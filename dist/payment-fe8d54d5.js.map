{"version":3,"file":"payment-fe8d54d5.js","mappings":"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","sources":["webpack://checkout/./packages/ui/src/accordion/AccordionItem.tsx","webpack://checkout/./packages/core/src/app/ui/form/ChecklistItemInput.tsx","webpack://checkout/./packages/core/src/app/ui/form/ChecklistItem.tsx","webpack://checkout/./packages/core/src/app/ui/tooltip/TooltipTrigger.tsx","webpack://checkout/./packages/ui/src/form/Fieldset/Fieldset.tsx","webpack://checkout/./packages/core/src/app/coupon/AppliedCoupon.tsx","webpack://checkout/./packages/core/src/app/giftCertificate/AppliedGiftCertificate.tsx","webpack://checkout/./packages/core/src/app/ui/icon/IconRemove.tsx","webpack://checkout/./packages/core/src/app/cart/AppliedRedeemable.tsx","webpack://checkout/./packages/core/src/app/cart/AppliedRedeemables.tsx","webpack://checkout/./packages/core/src/app/cart/Redeemable.tsx","webpack://checkout/./packages/ui/src/accordion/AccordionContext.tsx","webpack://checkout/./packages/core/src/app/payment/PaymentContext.tsx","webpack://checkout/./packages/core/src/app/payment/creditCard/unformatCreditCardNumber.ts","webpack://checkout/./packages/core/src/app/ui/tooltip/Tooltip.tsx","webpack://checkout/./packages/core/src/app/ui/form/withForm.tsx","webpack://checkout/./packages/core/src/app/cart/mapToRedeemableProps.ts","webpack://checkout/./packages/payment-integration-api/src/contexts/payment-form-context/PaymentFormContext.tsx","webpack://checkout/./packages/core/src/app/payment/withPayment.tsx","webpack://checkout/./packages/ui/src/accordion/Accordion.tsx","webpack://checkout/./packages/core/src/app/ui/form/Checklist.tsx","webpack://checkout/./packages/core/src/app/common/form/connectFormik.tsx","webpack://checkout/./packages/ui/src/icon/CreditCardIcon.tsx","webpack://checkout/./packages/core/src/app/ui/modal/ModalTrigger.tsx","webpack://checkout/./packages/core/src/app/ui/form/TextArea.tsx","webpack://checkout/./packages/core/src/app/ui/modal/ModalLink.tsx","webpack://checkout/./packages/core/src/app/ui/text/MultiLineText.tsx","webpack://checkout/./packages/core/src/app/termsConditions/TermsConditionsField.tsx","webpack://checkout/./packages/core/src/app/payment/mapSubmitOrderErrorMessage.ts","webpack://checkout/./packages/core/src/app/payment/creditCard/unformatCreditCardExpiryDate.ts","webpack://checkout/./packages/core/src/app/payment/paymentMethod/getUniquePaymentMethodId.ts","webpack://checkout/./packages/core/src/app/payment/paymentMethod/CreditCardFieldsetValues.ts","webpack://checkout/./packages/core/src/app/termsConditions/TermsConditions.tsx","webpack://checkout/./packages/core/src/app/payment/getPaymentValidationSchema.ts","webpack://checkout/./packages/core/src/app/termsConditions/getTermsConditionsValidationSchema.ts","webpack://checkout/./packages/core/src/app/payment/paymentMethod/PaymentMethodType.ts","webpack://checkout/./packages/core/src/app/payment/paymentMethod/getPaymentMethodName.ts","webpack://checkout/./packages/core/src/app/ui/form/CustomChecklistItem.tsx","webpack://checkout/./packages/bigcommerce-payments-utils/src/BigCommercePaymentsPayLaterBanner.tsx","webpack://checkout/./packages/paypal-utils/src/BraintreePaypalCreditBanner.tsx","webpack://checkout/./packages/paypal-utils/src/PaypalCommerceCreditBanner.tsx","webpack://checkout/./packages/ui/src/icon/CreditCardIconList.tsx","webpack://checkout/./packages/core/src/app/payment/paymentMethod/PaymentMethodTitle.tsx","webpack://checkout/./packages/core/src/app/payment/paymentMethod/getPaymentMethodDisplayName.tsx","webpack://checkout/./packages/core/src/app/payment/paymentMethod/HostedCreditCardFieldsetValues.ts","webpack://checkout/./packages/payment-integration-api/src/contexts/payment-form-context/PaymentFormProvider.tsx","webpack://checkout/./packages/core/src/app/generated/paymentIntegrations/index.ts","webpack://checkout/./packages/core/src/app/payment/paymentMethod/PaymentMethodProviderType.ts","webpack://checkout/./packages/core/src/app/payment/paymentMethod/PaymentMethod.tsx","webpack://checkout/./packages/core/src/app/payment/paymentMethod/PaymentMethodV2.tsx","webpack://checkout/./packages/core/src/app/payment/resolvePaymentMethod.ts","webpack://checkout/./packages/core/src/app/payment/createPaymentFormService.ts","webpack://checkout/./packages/core/src/app/payment/paymentMethod/PaymentMethodList.tsx","webpack://checkout/./packages/core/src/app/common/utility/isMobile.ts","webpack://checkout/./packages/core/src/app/payment/PaymentRedeemables.tsx","webpack://checkout/./packages/core/src/app/payment/PaymentSubmitButton.tsx","webpack://checkout/./packages/core/src/app/payment/SpamProtectionField.tsx","webpack://checkout/./packages/core/src/app/payment/storeCredit/StoreCreditField.tsx","webpack://checkout/./packages/core/src/app/payment/storeCredit/StoreCreditOverlay.tsx","webpack://checkout/./packages/core/src/app/eoc/WithdrawalTermsNotice.tsx","webpack://checkout/./packages/core/src/app/payment/PaymentForm.tsx","webpack://checkout/./packages/core/src/app/payment/Payment.tsx","webpack://checkout/./packages/core/src/app/payment/mapToOrderRequestBody.ts","webpack://checkout/./packages/core/src/app/common/error/isCartChangedError.ts","webpack://checkout/./packages/ui/src/icon/mapFromPaymentMethodCardType.ts"],"sourcesContent":["import classNames from 'classnames';\nimport React, {\n    type FunctionComponent,\n    memo,\n    type ReactNode,\n    useCallback,\n    useContext,\n} from 'react';\nimport { CSSTransition } from 'react-transition-group';\n\nimport AccordionContext from './AccordionContext';\n\nexport interface AccordionItemProps {\n    bodyClassName?: string;\n    children?: ReactNode;\n    className?: string;\n    classNameSelected?: string;\n    headerClassName?: string;\n    headerClassNameSelected?: string;\n    itemId: string;\n    headerContent(props: AccordionItemHeaderProps): ReactNode;\n}\n\nexport interface AccordionItemHeaderProps {\n    isSelected: boolean;\n    onToggle(id: string): void;\n}\n\nconst AccordionItem: FunctionComponent<AccordionItemProps> = ({\n    bodyClassName = 'accordion-item-body',\n    children,\n    className = 'accordion-item',\n    classNameSelected = 'accordion-item--selected',\n    headerClassName = 'accordion-item-header',\n    headerClassNameSelected = 'accordion-item-header--selected',\n    headerContent,\n    itemId,\n}) => {\n    const { onToggle, selectedItemId } = useContext(AccordionContext);\n    const isSelected = selectedItemId === itemId;\n\n    const transitionEndListener = useCallback((node: Node, done: () => void) => {\n        node.addEventListener('transitionend', ({ target }: Event) => {\n            if (target === node) {\n                done();\n            }\n        });\n    }, []);\n\n    return (\n        <li className={classNames(className, { [classNameSelected]: isSelected })}>\n            <div className={classNames(headerClassName, { [headerClassNameSelected]: isSelected })}>\n                {headerContent({ isSelected, onToggle })}\n            </div>\n\n            {children ? (\n                <CSSTransition\n                    addEndListener={transitionEndListener}\n                    classNames={bodyClassName}\n                    in={isSelected}\n                    mountOnEnter\n                    timeout={{}}\n                    unmountOnExit\n                >\n                    <div aria-live=\"polite\" className={bodyClassName}>\n                        {children}\n                    </div>\n                </CSSTransition>\n            ) : null}\n        </li>\n    );\n};\n\nexport default memo(AccordionItem);\n","import React, { type FunctionComponent, type InputHTMLAttributes } from 'react';\n\nimport Input from './Input';\nimport Label from './Label';\n\nexport interface ChecklistItemInputProps extends InputHTMLAttributes<HTMLInputElement> {\n    isSelected: boolean;\n}\n\nconst ChecklistItemInput: FunctionComponent<ChecklistItemInputProps> = ({\n    id,\n    isSelected,\n    children,\n    ...props\n}) => (\n    <>\n        <Input\n            {...props}\n            checked={isSelected}\n            className=\"form-checklist-checkbox optimizedCheckout-form-checklist-checkbox\"\n            id={id}\n            type=\"radio\"\n        />\n\n        <Label htmlFor={id}>{children}</Label>\n    </>\n);\n\nexport default ChecklistItemInput;\n","import { memoizeOne } from '@bigcommerce/memoize';\nimport { type FieldProps } from 'formik';\nimport { kebabCase } from 'lodash';\nimport React, { type FunctionComponent, memo, type ReactNode, useCallback, useContext } from 'react';\n\nimport { AccordionItem, type AccordionItemHeaderProps } from '@bigcommerce/checkout/ui';\n\nimport BasicFormField from './BasicFormField';\nimport { ChecklistContext } from './Checklist';\nimport ChecklistItemInput from './ChecklistItemInput';\n\nexport interface ChecklistItemProps {\n    content?: ReactNode;\n    htmlId?: string;\n    isDisabled?: boolean;\n    label: ReactNode | ((isSelected: boolean) => ReactNode);\n    value: string;\n}\n\nconst ChecklistItem: FunctionComponent<ChecklistItemProps> = ({\n    isDisabled,\n    value,\n    content,\n    htmlId = kebabCase(value),\n    label,\n    ...rest\n}) => {\n    const { name = '' } = useContext(ChecklistContext) || {};\n\n    const renderInput = useCallback(\n        memoizeOne((isSelected: boolean) => ({ field }: FieldProps) => (\n            <ChecklistItemInput\n                {...field}\n                disabled={isDisabled}\n                id={htmlId}\n                isSelected={field.value === value}\n                value={value}\n            >\n                {label instanceof Function ? label(isSelected) : label}\n            </ChecklistItemInput>\n        )),\n        [htmlId, isDisabled, label, value],\n    );\n\n    const handleChange = useCallback(\n        memoizeOne((onToggle: (id: string) => void) => (selectedValue: string) => {\n            if (value === selectedValue) {\n                onToggle(value);\n            }\n        }),\n        [],\n    );\n\n    const renderHeaderContent = useCallback(\n        ({ isSelected, onToggle }: AccordionItemHeaderProps) => (\n            <BasicFormField\n                className=\"form-checklist-option\"\n                name={name}\n                onChange={handleChange(onToggle)}\n                render={renderInput(isSelected)}\n            />\n        ),\n        [handleChange, name, renderInput],\n    );\n\n    return (\n        <AccordionItem\n            {...rest}\n            bodyClassName=\"form-checklist-body\"\n            className=\"form-checklist-item optimizedCheckout-form-checklist-item\"\n            classNameSelected=\"form-checklist-item--selected optimizedCheckout-form-checklist-item--selected\"\n            headerClassName=\"form-checklist-header\"\n            headerClassNameSelected=\"form-checklist-header--selected\"\n            headerContent={renderHeaderContent}\n            itemId={value}\n        >\n            {content}\n        </AccordionItem>\n    );\n};\n\nexport default memo(ChecklistItem);\n","import { type Placement } from '@popperjs/core';\nimport React, { type ReactEventHandler, type ReactNode, useState } from 'react';\nimport { Manager, Popper, Reference } from 'react-popper';\n\nexport interface TooltipTriggerProps {\n    placement?: Placement;\n    tooltip: ReactNode;\n    children: ReactNode;\n}\n\nconst TooltipTrigger: React.FC<TooltipTriggerProps> = ({\n    placement = 'bottom',\n    tooltip,\n    children,\n}) => {\n    const [shouldShow, setShouldShow] = useState(false);\n\n    const handleShow: ReactEventHandler<HTMLElement> = () => {\n        setShouldShow(true);\n    };\n\n    const handleHide: ReactEventHandler<HTMLElement> = () => {\n        setShouldShow(false);\n    };\n\n    return (\n        <Manager>\n            <Reference>\n                {({ ref }) => (\n                    <span\n                        onBlur={handleHide}\n                        onFocus={handleShow}\n                        onMouseEnter={handleShow}\n                        onMouseLeave={handleHide}\n                        ref={ref}\n                    >\n                        {children}\n                    </span>\n                )}\n            </Reference>\n\n            <Popper\n                modifiers={[\n                    { name: 'hide', enabled: false },\n                    { name: 'flip', enabled: false },\n                    { name: 'preventOverflow', enabled: false },\n                ]}\n                placement={placement}\n            >\n                {({ ref, style }) =>\n                    shouldShow && (\n                        <div ref={ref} style={style}>\n                            {tooltip}\n                        </div>\n                    )\n                }\n            </Popper>\n        </Manager>\n    );\n};\n\nexport default TooltipTrigger;\n","import classNames from 'classnames';\nimport React, { type FieldsetHTMLAttributes, forwardRef, type ReactNode, type Ref } from 'react';\n\nexport interface FieldsetProps extends FieldsetHTMLAttributes<HTMLFieldSetElement> {\n    additionalClassName?: string;\n    testId?: string;\n    legend?: ReactNode;\n}\n\nconst Fieldset = forwardRef(\n    (\n        { additionalClassName, children, className, legend, testId, ...rest }: FieldsetProps,\n        ref: Ref<HTMLFieldSetElement>,\n    ) => (\n        <fieldset\n            {...rest}\n            className={className || classNames('form-fieldset', additionalClassName)}\n            data-test={testId}\n            ref={ref}\n        >\n            {legend}\n\n            <div className=\"form-body\">{children}</div>\n        </fieldset>\n    ),\n);\n\nexport default Fieldset;\n","import { type Coupon } from '@bigcommerce/checkout-sdk';\nimport React, { type FunctionComponent, memo } from 'react';\n\nimport { TranslatedString } from '@bigcommerce/checkout/locale';\n\nexport interface AppliedCouponProps {\n    coupon: Coupon;\n}\n\nconst AppliedCoupon: FunctionComponent<AppliedCouponProps> = ({ coupon }) => (\n    <div className=\"redeemable-column redeemable-info\" data-test=\"redeemable-item--coupon\">\n        <span className=\"redeemable-info-header\">\n            <span className=\"redeemable-info-header--highlight\" data-test=\"coupon-amount\">\n                {coupon.displayName}\n            </span>{' '}\n            <TranslatedString id=\"redeemable.coupon_text\" />\n        </span>\n\n        <span className=\"redeemable-info-subHeader\" data-test=\"coupon-code\">\n            {coupon.code}\n        </span>\n    </div>\n);\n\nexport default memo(AppliedCoupon);\n","import { type GiftCertificate } from '@bigcommerce/checkout-sdk';\nimport React, { type FunctionComponent, memo } from 'react';\n\nimport { TranslatedString } from '@bigcommerce/checkout/locale';\n\nimport { ShopperCurrency } from '../currency';\n\nexport interface AppliedGiftCertificateProps {\n    giftCertificate: GiftCertificate;\n}\n\nconst AppliedGiftCertificate: FunctionComponent<AppliedGiftCertificateProps> = ({\n    giftCertificate,\n}) => (\n    <div className=\"redeemable-column redeemable-info\" data-test=\"redeemable-item--giftCertificate\">\n        <span className=\"redeemable-info-header\">\n            <span className=\"redeemable-info-header--highlight\" data-test=\"giftCertificate-amount\">\n                <ShopperCurrency amount={giftCertificate.used} />\n            </span>{' '}\n            <TranslatedString id=\"redeemable.gift_certificate_text\" />\n        </span>\n\n        <span className=\"redeemable-info-subHeader\">\n            {giftCertificate.remaining > 0 && (\n                <span className=\"redeemable-info-subHeader--remaining\">\n                    <TranslatedString id=\"redeemable.gift_certificate_remaining_text\" />{' '}\n                    <span data-test=\"giftCertificate-remaining\">\n                        <ShopperCurrency amount={giftCertificate.remaining} />\n                    </span>\n                </span>\n            )}\n\n            <span data-test=\"giftCertificate-code\">{giftCertificate.code}</span>\n        </span>\n    </div>\n);\n\nexport default memo(AppliedGiftCertificate);\n","import React, { type FunctionComponent } from 'react';\n\nimport withIconContainer from './withIconContainer';\n\nconst IconRemove: FunctionComponent = () => (\n    <svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" />\n    </svg>\n);\n\nexport default withIconContainer(IconRemove);\n","import classNames from 'classnames';\nimport React, { type FunctionComponent, type ReactNode } from 'react';\n\nimport { TranslatedString } from '@bigcommerce/checkout/locale';\n\nimport { IconRemove } from '../ui/icon';\n\nimport './AppliedRedeemable.scss';\n\nexport interface AppliedRedeemableProps {\n    children: ReactNode;\n    isRemoving: boolean;\n    onRemove(): void;\n}\n\nconst AppliedRedeemable: FunctionComponent<AppliedRedeemableProps> = ({\n    children,\n    isRemoving,\n    onRemove,\n}) => (\n    <div className=\"form-checklist-header\">\n        <div className=\"form-checklist-checkbox optimizedCheckout-form-checklist-checkbox\">\n            <span className=\"is-srOnly\">\n                <TranslatedString id=\"redeemable.applied_text\" />\n            </span>\n        </div>\n\n        <div className=\"form-label form-label-redeemable\">\n            <div className=\"redeemable\">\n                {children}\n                <div className=\"redeemable-column redeemable-actions\">\n                    <button\n                        className={classNames('redeemable-remove', { 'is-loading': isRemoving })}\n                        data-test=\"redeemable-remove\"\n                        disabled={isRemoving}\n                        onClick={onRemove}\n                        type=\"button\"\n                    >\n                        <IconRemove />\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n);\n\nexport default AppliedRedeemable;\n","import { type Coupon, type GiftCertificate } from '@bigcommerce/checkout-sdk';\nimport React, { type FunctionComponent, memo, useCallback } from 'react';\n\nimport { AppliedCoupon } from '../coupon';\nimport { AppliedGiftCertificate } from '../giftCertificate';\n\nimport AppliedRedeemable from './AppliedRedeemable';\n\ninterface AppliedCouponProps {\n    coupon: Coupon;\n    isRemoving?: boolean;\n    onRemoved(code: string): void;\n}\n\nconst AppliedCouponChecklistItem: FunctionComponent<AppliedCouponProps> = ({\n    coupon,\n    onRemoved,\n    isRemoving = false,\n}) => {\n    const handleRemove = useCallback(() => {\n        onRemoved(coupon.code);\n    }, [coupon, onRemoved]);\n\n    return (\n        <li className=\"form-checklist-item optimizedCheckout-form-checklist-item\">\n            <AppliedRedeemable isRemoving={isRemoving} onRemove={handleRemove}>\n                <AppliedCoupon coupon={coupon} />\n            </AppliedRedeemable>\n        </li>\n    );\n};\n\ninterface AppliedGiftCertificateProps {\n    giftCertificate: GiftCertificate;\n    isRemoving?: boolean;\n    onRemoved(code: string): void;\n}\n\nconst AppliedGiftCertificateChecklistItem: FunctionComponent<AppliedGiftCertificateProps> = ({\n    giftCertificate,\n    onRemoved,\n    isRemoving = false,\n}) => {\n    const handleRemove = useCallback(() => {\n        onRemoved(giftCertificate.code);\n    }, [giftCertificate, onRemoved]);\n\n    return (\n        <li className=\"form-checklist-item optimizedCheckout-form-checklist-item\">\n            <AppliedRedeemable isRemoving={isRemoving} onRemove={handleRemove}>\n                <AppliedGiftCertificate giftCertificate={giftCertificate} />\n            </AppliedRedeemable>\n        </li>\n    );\n};\n\nexport interface AppliedRedeemablesProps {\n    coupons?: Coupon[];\n    giftCertificates?: GiftCertificate[];\n    isRemovingGiftCertificate?: boolean;\n    isRemovingCoupon?: boolean;\n    onRemovedCoupon(code: string): void;\n    onRemovedGiftCertificate(code: string): void;\n}\n\nconst AppliedRedeemables: FunctionComponent<AppliedRedeemablesProps> = ({\n    coupons = [],\n    giftCertificates = [],\n    isRemovingCoupon = false,\n    isRemovingGiftCertificate = false,\n    onRemovedCoupon,\n    onRemovedGiftCertificate,\n}) => {\n    if (!coupons.length && !giftCertificates.length) {\n        return null;\n    }\n\n    return (\n        <ul\n            className=\"form-checklist optimizedCheckout-form-checklist\"\n            data-test=\"redeemables-list\"\n        >\n            {coupons.map((coupon) => (\n                <AppliedCouponChecklistItem\n                    coupon={coupon}\n                    isRemoving={isRemovingCoupon}\n                    key={coupon.code}\n                    onRemoved={onRemovedCoupon}\n                />\n            ))}\n\n            {giftCertificates.map((giftCertificate) => (\n                <AppliedGiftCertificateChecklistItem\n                    giftCertificate={giftCertificate}\n                    isRemoving={isRemovingGiftCertificate}\n                    key={giftCertificate.code}\n                    onRemoved={onRemovedGiftCertificate}\n                />\n            ))}\n        </ul>\n    );\n};\n\nexport default memo(AppliedRedeemables);\n","import { type CheckoutSelectors, type RequestError } from '@bigcommerce/checkout-sdk';\nimport { memoizeOne } from '@bigcommerce/memoize';\nimport classNames from 'classnames';\nimport { type FieldProps, type FormikProps, withFormik } from 'formik';\nimport { noop } from 'lodash';\nimport React, { type FunctionComponent, type KeyboardEvent, memo, type ReactNode, useCallback } from 'react';\nimport { object, string } from 'yup';\n\nimport { preventDefault } from '@bigcommerce/checkout/dom-utils';\nimport { TranslatedString, withLanguage, type WithLanguageProps } from '@bigcommerce/checkout/locale';\nimport { useCheckout } from '@bigcommerce/checkout/payment-integration-api';\nimport { type FormContextType, FormProvider, useThemeContext } from '@bigcommerce/checkout/ui';\n\nimport { Alert, AlertType } from '../ui/alert';\nimport { Button, ButtonVariant } from '../ui/button';\nimport { FormField, Label, TextInput } from '../ui/form';\nimport { Toggle } from '../ui/toggle';\n\nimport AppliedRedeemables, { type AppliedRedeemablesProps } from './AppliedRedeemables';\n\nexport interface RedeemableFormValues {\n    redeemableCode: string;\n}\n\nexport type ReedemableChildrenProps = Pick<\n    RedeemableProps,\n    | 'onRemovedCoupon'\n    | 'onRemovedGiftCertificate'\n    | 'isRemovingGiftCertificate'\n    | 'isRemovingCoupon'\n    | 'coupons'\n    | 'giftCertificates'\n>;\n\nexport type RedeemableProps = {\n    appliedRedeemableError?: RequestError;\n    isApplyingRedeemable?: boolean;\n    isRemovingRedeemable?: boolean;\n    removedRedeemableError?: RequestError;\n    showAppliedRedeemables?: boolean;\n    shouldCollapseCouponCode?: boolean;\n    applyCoupon(code: string): Promise<CheckoutSelectors>;\n    applyGiftCertificate(code: string): Promise<CheckoutSelectors>;\n    clearError(error: Error): void;\n} & AppliedRedeemablesProps;\n\nconst Redeemable: FunctionComponent<\n    RedeemableProps & WithLanguageProps & FormikProps<RedeemableFormValues>\n    > = ({ shouldCollapseCouponCode, showAppliedRedeemables, ...formProps }) => {\n        const { themeV2 } = useThemeContext();\n\n        return (\n            <Toggle openByDefault={!shouldCollapseCouponCode}>\n                {({ toggle, isOpen }): ReactNode => (\n                    <>\n                        {shouldCollapseCouponCode && (\n                            <a\n                                aria-controls=\"redeemable-collapsable\"\n                                aria-expanded={isOpen}\n                                className={classNames('redeemable-label', { 'body-cta': themeV2 })}\n                                data-test=\"redeemable-label\"\n                                href=\"#\"\n                                onClick={preventDefault(toggle)}\n                            >\n                                <TranslatedString id=\"redeemable.toggle_action\" />\n                            </a>\n                        )}\n                        {!shouldCollapseCouponCode && (\n                            <div className={classNames('redeemable-label', { 'body-cta': themeV2 })}>\n                                <TranslatedString id=\"redeemable.toggle_action\" />\n                            </div>\n                        )}\n                        {(isOpen || !shouldCollapseCouponCode) && (\n                            <div data-test=\"redeemable-collapsable\" id=\"redeemable-collapsable\">\n                                <RedeemableForm {...formProps} />\n                                {showAppliedRedeemables && <AppliedRedeemables {...formProps} />}\n                            </div>\n                        )}\n                    </>\n                )}\n            </Toggle>\n        );\n    }\n\nconst RedeemableForm: FunctionComponent<\n    Partial<RedeemableProps> & FormikProps<RedeemableFormValues> & WithLanguageProps\n> = ({ appliedRedeemableError, isApplyingRedeemable, clearError = noop, submitForm, language }) => {\n    const {\n        checkoutState: {\n            statuses: { isSubmittingOrder }\n        }\n    } = useCheckout();\n    const { themeV2 } = useThemeContext();\n\n    const handleSubmitForm = (setSubmitted: FormContextType['setSubmitted']) => {\n        if (isSubmittingOrder()) {\n            return;\n        }\n\n        setSubmitted(true);\n        submitForm();\n    }\n\n    const handleKeyDown = useCallback(\n        memoizeOne((setSubmitted: FormContextType['setSubmitted']) => (event: KeyboardEvent) => {\n            if (appliedRedeemableError) {\n                clearError(appliedRedeemableError);\n            }\n\n            // note: to prevent submitting main form, we manually intercept\n            // the enter key event and submit the \"subform\".\n            if (event.keyCode === 13 || event.key === 'Enter') {\n                handleSubmitForm(setSubmitted);\n                event.preventDefault();\n            }\n        }),\n        [appliedRedeemableError, clearError, submitForm],\n    );\n\n    const handleSubmit = useCallback(\n        memoizeOne((setSubmitted: FormContextType['setSubmitted']) => () => {\n            handleSubmitForm(setSubmitted);\n        }),\n        [],\n    );\n\n    const renderLabel = useCallback(\n        (name: string) => (\n            <Label hidden htmlFor={name}>\n                <TranslatedString id=\"redeemable.code_label\" />\n            </Label>\n        ),\n        [],\n    );\n\n    const renderErrorMessage = useCallback((errorCode: string, errorMessage?: string) => {\n        switch (errorCode) {\n            case 'min_purchase':\n                return <TranslatedString id=\"redeemable.coupon_min_order_total\" />;\n\n            case 'not_applicable':\n                return <TranslatedString id=\"redeemable.coupon_location_error\" />;\n\n            default:\n                return errorMessage || <TranslatedString id=\"redeemable.code_invalid_error\" />;\n        }\n    }, []);\n\n    const renderInput = useCallback(\n        (setSubmitted: FormContextType['setSubmitted']) =>\n            ({ field }: FieldProps) =>\n                (\n                    <>\n                        {appliedRedeemableError &&\n                            appliedRedeemableError.errors &&\n                            appliedRedeemableError.errors[0] && (\n                                <Alert type={AlertType.Error}>\n                                    {renderErrorMessage(appliedRedeemableError.errors[0].code, appliedRedeemableError.errors[0].message)}\n                                </Alert>\n                            )}\n\n                        <div className=\"form-prefixPostfix\">\n                            <TextInput\n                                {...field}\n                                aria-label={language.translate('redeemable.code_label')}\n                                className=\"form-input optimizedCheckout-form-input\"\n                                onKeyDown={handleKeyDown(setSubmitted)}\n                                testId=\"redeemableEntry-input\"\n                                themeV2={themeV2}\n                            />\n\n                            <Button\n                                className={classNames('form-prefixPostfix-button--postfix', {\n                                    'body-bold': themeV2,\n                                })}\n                                disabled={isSubmittingOrder()}\n                                id=\"applyRedeemableButton\"\n                                isLoading={isApplyingRedeemable}\n                                onClick={handleSubmit(setSubmitted)}\n                                testId=\"redeemableEntry-submit\"\n                                variant={ButtonVariant.Secondary}\n                            >\n                                <TranslatedString id=\"redeemable.apply_action\" />\n                            </Button>\n                        </div>\n                    </>\n                ),\n        [\n            appliedRedeemableError,\n            handleKeyDown,\n            handleSubmit,\n            isApplyingRedeemable,\n            language,\n            isSubmittingOrder,\n            renderErrorMessage,\n        ],\n    );\n\n    const renderContent = useCallback(\n        memoizeOne(({ setSubmitted }: FormContextType) => (\n            <FormField\n                input={renderInput(setSubmitted)}\n                label={renderLabel}\n                name=\"redeemableCode\"\n            />\n        )),\n        [renderLabel, renderInput],\n    );\n\n    return (\n        <fieldset className=\"form-fieldset redeemable-entry\">\n            <FormProvider>{renderContent}</FormProvider>\n        </fieldset>\n    );\n};\n\nexport default withLanguage(\n    withFormik<RedeemableProps & WithLanguageProps, RedeemableFormValues>({\n        mapPropsToValues() {\n            return {\n                redeemableCode: '',\n            };\n        },\n\n        async handleSubmit(\n            { redeemableCode },\n            { props: { applyCoupon, applyGiftCertificate, clearError } },\n        ) {\n            const code = redeemableCode.trim();\n\n            try {\n                await applyGiftCertificate(code);\n            } catch (error) {\n                if (error instanceof Error) {\n                    clearError(error);\n                }\n\n                applyCoupon(code);\n            }\n        },\n\n        validationSchema({ language }: RedeemableProps & WithLanguageProps) {\n            return object({\n                redeemableCode: string().required(\n                    language.translate('redeemable.code_required_error'),\n                ),\n            });\n        },\n    })(memo(Redeemable)),\n);\n","import { noop } from 'lodash';\nimport { createContext } from 'react';\n\nexport interface AccordionContextProps {\n    selectedItemId?: string;\n    onToggle(id: string): void;\n}\n\nconst AccordionContext = createContext<AccordionContextProps>({ onToggle: noop });\n\nexport default AccordionContext;\n","import { type PaymentMethod } from '@bigcommerce/checkout-sdk';\nimport { createContext } from 'react';\nimport { type ObjectSchema } from 'yup';\n\nimport { type PaymentFormValues } from '@bigcommerce/checkout/payment-integration-api';\n\nexport interface PaymentContextProps {\n    disableSubmit(method: PaymentMethod, disabled?: boolean): void;\n    // NOTE: This prop allows certain payment methods to override the default\n    // form submission behaviour. It is not recommended to use it because\n    // generally speaking we want to avoid method-specific snowflake behaviours.\n    // Nevertheless, because of some product / UX decisions made in the past\n    // (i.e.: Amazon), we have to have this backdoor so we can preserve these\n    // snowflake behaviours. In the future, if we decide to change the UX, we\n    // can remove this prop.\n    setSubmit(method: PaymentMethod, fn: ((values: PaymentFormValues) => void) | null): void;\n    setValidationSchema(\n        method: PaymentMethod,\n        schema: ObjectSchema<Partial<PaymentFormValues>> | null,\n    ): void;\n    hidePaymentSubmitButton(method: PaymentMethod, hidden?: boolean): void;\n}\n\nconst PaymentContext = createContext<PaymentContextProps | undefined>(undefined);\n\nexport default PaymentContext;\n","import { number } from 'card-validator';\n\nexport default function unformatCreditCardNumber(value: string, separator = ' '): string {\n    const { card } = number(value);\n\n    if (!card) {\n        return value;\n    }\n\n    return value.replace(new RegExp(separator, 'g'), '');\n}\n","import React, { type FunctionComponent } from 'react';\n\nimport './Tooltip.scss';\n\nexport interface TooltipProps {\n    children: React.ReactNode;\n    testId?: string;\n}\n\nconst Tooltip: FunctionComponent<TooltipProps> = ({ children, testId }) => (\n    <span className=\"tooltip tooltip--basic\" data-test={testId}>\n        {children}\n    </span>\n);\n\nexport default Tooltip;\n","import { createInjectHoc } from '@bigcommerce/checkout/legacy-hoc';\nimport { FormContext, type FormContextType } from '@bigcommerce/checkout/ui';\n\nexport type WithFormProps = FormContextType;\n\nconst withForm = createInjectHoc(FormContext, { displayNamePrefix: 'WithForm' });\n\nexport default withForm;\n","import { type CheckoutContextProps } from '@bigcommerce/checkout/payment-integration-api';\n\nimport { EMPTY_ARRAY } from '../common/utility';\n\nimport { type RedeemableProps } from './Redeemable';\n\nexport default function mapToRedeemableProps(\n    context: CheckoutContextProps,\n): RedeemableProps | null {\n    const {\n        checkoutService,\n        checkoutState: {\n            data: { getConfig, getCoupons, getGiftCertificates },\n            statuses: {\n                isApplyingCoupon,\n                isApplyingGiftCertificate,\n                isRemovingCoupon,\n                isRemovingGiftCertificate,\n            },\n            errors: {\n                getApplyCouponError,\n                getApplyGiftCertificateError,\n                getRemoveCouponError,\n                getRemoveGiftCertificateError,\n            },\n        },\n    } = context;\n\n    const config = getConfig();\n\n    if (!config) {\n        return null;\n    }\n\n    return {\n        appliedRedeemableError: getApplyCouponError() || getApplyGiftCertificateError(),\n        applyCoupon: checkoutService.applyCoupon,\n        applyGiftCertificate: checkoutService.applyGiftCertificate,\n        clearError: checkoutService.clearError,\n        coupons: getCoupons() || EMPTY_ARRAY,\n        giftCertificates: getGiftCertificates() || EMPTY_ARRAY,\n        isApplyingRedeemable: isApplyingCoupon() || isApplyingGiftCertificate(),\n        isRemovingCoupon: isRemovingCoupon(),\n        isRemovingGiftCertificate: isRemovingGiftCertificate(),\n        onRemovedCoupon: checkoutService.removeCoupon,\n        onRemovedGiftCertificate: checkoutService.removeGiftCertificate,\n        removedRedeemableError: getRemoveCouponError() || getRemoveGiftCertificateError(),\n        shouldCollapseCouponCode: config.checkoutSettings.isCouponCodeCollapsed,\n    };\n}\n","import { createContext, useContext } from 'react';\n\nimport type PaymentMethodProps from '../../PaymentMethodProps';\n\nexport type PaymentFormContextProps = Pick<PaymentMethodProps, 'paymentForm'>;\n\nexport const PaymentFormContext = createContext<PaymentFormContextProps | undefined>(undefined);\n\nexport function usePaymentFormContext() {\n    const context = useContext(PaymentFormContext);\n\n    if (!context) {\n        throw new Error('usePaymentFormContext must be used within a PaymentFormContextProvider');\n    }\n\n    return context;\n}\n","import { createInjectHoc } from '@bigcommerce/checkout/legacy-hoc';\n\nimport PaymentContext, { type PaymentContextProps } from './PaymentContext';\n\nexport type WithPaymentProps = PaymentContextProps;\n\nconst withPayment = createInjectHoc(PaymentContext, { displayNamePrefix: 'WithPayment' });\n\nexport default withPayment;\n","import { memoizeOne } from '@bigcommerce/memoize';\nimport { noop } from 'lodash';\nimport React, { type ReactNode, useState } from 'react';\n\nimport AccordionContext from './AccordionContext';\n\nexport interface AccordionProps {\n    children?: ReactNode;\n    className?: string;\n    defaultSelectedItemId?: string;\n    isDisabled?: boolean;\n    onSelect?(id: string): void;\n}\n\nconst Accordion = ({\n    children,\n    className = 'accordion',\n    defaultSelectedItemId,\n    isDisabled,\n    onSelect = noop,\n}: AccordionProps) => {\n    const [selectedItemId, setSelectedItemId] = useState<string | undefined>(defaultSelectedItemId);\n\n    const handleToggleItem: (id: string) => void = (id) => {\n        if (isDisabled) {\n            return;\n        }\n\n        setSelectedItemId(id);\n        onSelect(id);\n    };\n\n    const getContextValue = memoizeOne((newSelectedItemId?: string) => {\n        return {\n            onToggle: handleToggleItem,\n            selectedItemId: newSelectedItemId,\n        };\n    });\n\n    return (\n        <AccordionContext.Provider value={getContextValue(selectedItemId)}>\n            <ul className={className}>{children}</ul>\n        </AccordionContext.Provider>\n    );\n};\n\nexport default Accordion;\n","import { noop } from 'lodash';\nimport React, {\n    createContext,\n    type FunctionComponent,\n    memo,\n    type ReactNode,\n    useCallback,\n    useEffect,\n    useMemo,\n} from 'react';\n\nimport { Accordion } from '@bigcommerce/checkout/ui';\n\nimport { connectFormik, type ConnectFormikProps } from '../../common/form';\n\nexport interface ChecklistProps {\n    children?: ReactNode;\n    defaultSelectedItemId?: string;\n    isDisabled?: boolean;\n    name: string;\n    onSelect?(value: string): void;\n}\n\nexport interface ChecklistContextProps {\n    name: string;\n}\n\nexport const ChecklistContext = createContext<ChecklistContextProps | undefined>(undefined);\n\nconst Checklist: FunctionComponent<\n    ChecklistProps & ConnectFormikProps<{ [key: string]: string }>\n> = ({ formik: { setFieldValue }, name, onSelect = noop, ...props }) => {\n    useEffect(() => {\n        return () => {\n            setFieldValue(name, '');\n        };\n    }, []);\n\n    const handleSelect = useCallback(\n        (value: string) => {\n            setFieldValue(name, value);\n            onSelect(value);\n        },\n        [name, onSelect, setFieldValue],\n    );\n\n    const contextValue = useMemo(() => ({ name }), [name]);\n\n    return (\n        <ChecklistContext.Provider value={contextValue}>\n            <Accordion\n                {...props}\n                className=\"form-checklist optimizedCheckout-form-checklist\"\n                onSelect={handleSelect}\n            />\n        </ChecklistContext.Provider>\n    );\n};\n\nexport default connectFormik(memo(Checklist));\n","import { connect } from 'formik';\nimport React, { type ComponentType, type FunctionComponent, memo } from 'react';\nimport shallowEqual from 'shallowequal';\n\nimport type ConnectFormikProps from './ConnectFormikProps';\n\nexport default function connectFormik<TProps extends ConnectFormikProps<TValues>, TValues = any>(\n    OriginalComponent: ComponentType<TProps>,\n): ComponentType<Omit<TProps, keyof ConnectFormikProps<TValues>>> {\n    const InnerComponent: FunctionComponent<TProps> = memo(\n        (props) => <OriginalComponent {...props} />,\n        ({ formik: prevFormik, ...prevProps }, { formik: nextFormik, ...nextProps }) =>\n            shallowEqual(prevFormik, nextFormik) && shallowEqual(prevProps, nextProps),\n    );\n\n    const DecoratedComponent = connect<TProps, TValues>(InnerComponent) as ComponentType<\n        Omit<TProps, keyof ConnectFormikProps<TValues>>\n    >;\n\n    DecoratedComponent.displayName = `ConnectFormik(${\n        OriginalComponent.displayName || OriginalComponent.name\n    })`;\n\n    return DecoratedComponent;\n}\n","import React, { type FunctionComponent, memo, Suspense } from 'react';\n\nimport { getPaymentMethodIconComponent } from './mapFromPaymentMethodCardType';\nimport { IconSize } from './withIconContainer';\n\nexport interface CreditCardIconProps {\n    cardType?: string;\n}\n\nconst CreditCardIcon: FunctionComponent<CreditCardIconProps> = ({ cardType }) => {\n    const iconProps = {\n        additionalClassName: 'cardIcon-icon',\n        size: IconSize.Medium,\n        testId: `credit-card-icon-${cardType || 'default'}`,\n    };\n\n    const IconComponent = getPaymentMethodIconComponent(cardType);\n\n    return IconComponent ? (\n        <Suspense>\n            <IconComponent {...iconProps} />\n        </Suspense>\n    ) : (\n        <div className=\"cardIcon-icon cardIcon-icon--default icon icon--medium\" />\n    );\n};\n\nexport default memo(CreditCardIcon);\n","import React, {\n    type KeyboardEvent,\n    type KeyboardEventHandler,\n    type MouseEventHandler,\n    type ReactElement,\n    type ReactNode,\n    useEffect,\n    useRef,\n    useState,\n} from 'react';\n\nexport interface ModalTriggerProps {\n    children(props: { onClick: MouseEventHandler; onKeyPress: KeyboardEventHandler<HTMLDivElement> }): ReactNode;\n    modal(props: ModalTriggerModalProps): ReactNode;\n}\n\nexport interface ModalTriggerModalProps {\n    isOpen: boolean;\n    onRequestClose(): void;\n}\n\nconst ModalTrigger = ({ children, modal }: ModalTriggerProps): ReactElement => {\n    const [isOpen, setIsOpen] = useState(false);\n    const canHandleEventRef = useRef(false);\n\n    useEffect(() => {\n        canHandleEventRef.current = true;\n\n        return () => {\n            canHandleEventRef.current = false;\n        };\n    }, []);\n\n    const handleOpen = (): void => {\n        if (!canHandleEventRef.current) {\n            return;\n        }\n\n        setIsOpen(true);\n    };\n\n    const handleClose = (): void => {\n        if (!canHandleEventRef.current) {\n            return;\n        }\n\n        setIsOpen(false);\n    };\n\n    const handleKeyOpen = (keyboardEvent: KeyboardEvent<HTMLElement>): void => {\n        if (keyboardEvent.key === 'Enter') {\n            handleOpen();\n        }\n    };\n\n    return (\n        <>\n            {children({\n                onClick: handleOpen,\n                onKeyPress: handleKeyOpen,\n            })}\n\n            {modal({\n                isOpen,\n                onRequestClose: handleClose,\n            })}\n        </>\n    );\n};\n\nexport default ModalTrigger;\n","import classNames from 'classnames';\nimport React, { forwardRef, type Ref, type TextareaHTMLAttributes } from 'react';\n\nexport interface TextAreaProps extends TextareaHTMLAttributes<HTMLTextAreaElement> {\n    additionalClassName?: string;\n    testId?: string;\n    isFloatingLabelEnabled?: boolean;\n}\n\nconst TextArea = forwardRef(\n    (\n        { additionalClassName, testId, className, isFloatingLabelEnabled, ...rest }: TextAreaProps,\n        ref: Ref<HTMLTextAreaElement>,\n    ) => {\n        return (\n            <textarea\n                {...rest}\n                className={\n                    className ||\n                    classNames(\n                        { 'floating-textarea': isFloatingLabelEnabled },\n                        'form-input',\n                        'optimizedCheckout-form-input',\n                        additionalClassName,\n                    )\n                }\n                data-test={testId}\n                ref={ref}\n            />\n        );\n    },\n);\n\nexport default TextArea;\n","import React, { type FunctionComponent, type ReactNode, useCallback } from 'react';\n\nimport { preventDefault } from '@bigcommerce/checkout/dom-utils';\nimport { TranslatedString } from '@bigcommerce/checkout/locale';\n\nimport { Button, ButtonSize } from '../button';\n\nimport Modal from './Modal';\nimport './ModalLink.scss';\nimport ModalTrigger, { type ModalTriggerModalProps } from './ModalTrigger';\n\nexport interface ModalLinkProps {\n    header: ReactNode;\n    body: ReactNode;\n    children?: ReactNode;\n}\n\nconst ModalLink: FunctionComponent<ModalLinkProps> = ({ children, body, header }) => {\n    const renderModal = useCallback(\n        (props: ModalTriggerModalProps) => (\n            <Modal\n                {...props}\n                additionalBodyClassName=\"modal--withText\"\n                footer={\n                    <Button onClick={props.onRequestClose} size={ButtonSize.Small}>\n                        <TranslatedString id=\"common.ok_action\" />\n                    </Button>\n                }\n                header={header}\n                shouldShowCloseButton={true}\n            >\n                {body}\n            </Modal>\n        ),\n        [header, body],\n    );\n\n    return (\n        <ModalTrigger modal={renderModal}>\n            { }\n            {({ onClick }) => <a onClick={preventDefault(onClick)}>{children}</a>}\n        </ModalTrigger>\n    );\n};\n\nexport default ModalLink;\n","import React, { Fragment, type FunctionComponent } from 'react';\n\nconst MultiLineText: FunctionComponent<{ children: string }> = ({ children }) => (\n    <>\n        {children.split('\\n').map((line, key) => (\n            <Fragment key={key}>\n                {line}\n                <br />\n            </Fragment>\n        ))}\n    </>\n);\n\nexport default MultiLineText;\n","import { type FieldProps } from 'formik';\nimport React, { type FunctionComponent, memo, useCallback, useMemo } from 'react';\n\nimport { parseAnchor } from '@bigcommerce/checkout/dom-utils';\nimport { TranslatedHtml, TranslatedString, withLanguage, type WithLanguageProps } from '@bigcommerce/checkout/locale';\n\nimport { CheckboxFormField, Fieldset, FormField, Legend, TextArea } from '../ui/form';\nimport { ModalHeader, ModalLink } from '../ui/modal';\nimport { MultiLineText } from '../ui/text';\n\nexport enum TermsConditionsType {\n    Link = 'link',\n    TextArea = 'textarea',\n    Modal = 'modal',\n}\n\nexport type TermsConditionsFieldProps =\n    | TermsConditionsLinkFieldProps\n    | TermsConditionsTextAreaFieldProps;\n\ninterface TermsConditionsLinkFieldProps {\n    name: string;\n    type: TermsConditionsType.Link;\n    url: string;\n}\n\ninterface TermsConditionsTextAreaFieldProps {\n    name: string;\n    terms: string;\n    type: TermsConditionsType.TextArea | TermsConditionsType.Modal;\n}\n\ninterface TermsConditionsTextFieldProps {\n    name: string;\n    terms: string;\n}\n\nconst BaseTermsConditionsModalCheckboxField: FunctionComponent<\n    TermsConditionsTextFieldProps & WithLanguageProps\n> = ({ language, name, terms }) => {\n    const translatedLabel = language.translate('terms_and_conditions.agreement_with_link_text', {\n        url: '',\n    });\n    const parsedLabel = parseAnchor(translatedLabel);\n\n    const labelContent = parsedLabel ? (\n        <>\n            {parsedLabel[0]}\n            <ModalLink\n                body={<MultiLineText>{terms}</MultiLineText>}\n                header={\n                    <ModalHeader>\n                        <TranslatedString id=\"terms_and_conditions.heading\" />\n                    </ModalHeader>\n                }\n            >\n                {parsedLabel[1]}\n            </ModalLink>\n            {parsedLabel[2]}\n        </>\n    ) : (\n        translatedLabel\n    );\n\n    return <CheckboxFormField labelContent={labelContent} name={name} />;\n};\n\nconst TermsConditionsModalCheckboxField = withLanguage(BaseTermsConditionsModalCheckboxField);\n\ninterface TermsConditionsCheckboxFieldProps {\n    name: string;\n    type: TermsConditionsType;\n    url?: string;\n}\n\nconst TermsConditionsCheckboxField: FunctionComponent<TermsConditionsCheckboxFieldProps> = ({\n    name,\n    url,\n}) => {\n    const labelContent = useMemo(\n        () =>\n            url ? (\n                <TranslatedHtml data={{ url }} id=\"terms_and_conditions.agreement_with_link_text\" />\n            ) : (\n                <TranslatedString id=\"terms_and_conditions.agreement_text\" />\n            ),\n        [url],\n    );\n\n    return <CheckboxFormField labelContent={labelContent} name={name} />;\n};\n\nconst TermsConditionsTextField: FunctionComponent<TermsConditionsTextFieldProps> = ({\n    name,\n    terms,\n}) => {\n    const renderInput = useCallback(\n        ({ field }: FieldProps) => <TextArea defaultValue={terms} name={field.name} readOnly />,\n        [terms],\n    );\n\n    return <FormField input={renderInput} name={`${name}Text`} />;\n};\n\nconst TermsConditionsFieldset: FunctionComponent<TermsConditionsFieldProps> = (props) => {\n    const { type } = props;\n\n    return (\n        <Fieldset\n            additionalClassName=\"checkout-terms\"\n            legend={\n                <Legend>\n                    <TranslatedString id=\"terms_and_conditions.terms_and_conditions_heading\" />\n                </Legend>\n            }\n        >\n            {isTermsConditionsTextArea(props) && <TermsConditionsTextField {...props} />}\n            {isTermsConditionModal(props) && type === TermsConditionsType.Modal ? (\n                <TermsConditionsModalCheckboxField {...props} />\n            ) : (\n                <TermsConditionsCheckboxField {...props} />\n            )}\n        </Fieldset>\n    );\n};\n\nfunction isTermsConditionsTextArea(props: any): props is TermsConditionsTextFieldProps {\n    return props.type === TermsConditionsType.TextArea;\n}\n\nfunction isTermsConditionModal(props: any): props is TermsConditionsTextFieldProps {\n    return props.type === TermsConditionsType.Modal;\n}\n\nexport default memo(TermsConditionsFieldset);\n","import { type TranslationData } from '@bigcommerce/checkout-sdk';\nimport { includes } from 'lodash';\n\nexport default function mapSubmitOrderErrorMessage(\n    error: any,\n    translate: (key: string, data?: TranslationData) => string,\n    shouldLocalise: boolean,\n): string {\n    switch (error.type) {\n        case 'not_initialized':\n            return translate('payment.payment_error');\n\n        case 'custom_provider_execute_error':\n            return translate(error.subtype);\n\n        case 'payment_cancelled':\n            return translate('payment.payment_cancelled');\n\n        case 'payment_method_invalid':\n            return translate('payment.payment_method_disabled_error');\n\n        case 'tax_provider_unavailable':\n            return translate('payment.tax_provider_unavailable');\n\n        case 'cart_changed':\n            return translate('shipping.cart_change_error');\n\n        case 'cart_consistency':\n            return translate('cart.consistency_error');\n        \n        case 'empty_cart':\n            return translate('cart.empty_cart_error_message');\n\n        default:\n            if (\n                includes(\n                    [\n                        'order_could_not_be_finalized_error',\n                        'provider_fatal_error',\n                        'payment_invalid',\n                        'provider_error',\n                        'provider_widget_error',\n                        'user_payment_error',\n                    ],\n                    error.body && error.body.type,\n                )\n            ) {\n                return translate('payment.payment_method_error', { message: error.message });\n            }\n\n            if (shouldLocalise && error.body && error.body.errors && error.body.errors.length) {\n                const messages = error.body.errors.map((err: { code: any }) =>\n                    translate(`payment.errors.${err.code}`),\n                );\n\n                return messages.join(' ');\n            }\n\n            if (error.message) {\n                return error.message;\n            }\n\n            return error.type === 'unrecoverable'\n                ? translate('common.unavailable_error')\n                : translate('payment.place_order_error');\n    }\n}\n\nexport function mapSubmitOrderErrorTitle(\n    error: any,\n    translate: (key: string, data?: TranslationData) => string,\n): string {\n    if (error.type === 'unrecoverable') {\n        return translate('common.unavailable_heading');\n    }\n\n    if (error.type === 'missing_shipping_method') {\n        return translate('common.missing_shipping_method_heading');\n    }\n\n    if (error.type === 'invalid_shipping_address') {\n        return translate('common.invalid_shipping_address');\n    }\n\n    return translate('common.error_heading');\n}\n","export interface ExpiryDate {\n    month: string;\n    year: string;\n}\n\nexport default function unformatCreditCardExpiryDate(value: string): ExpiryDate {\n    const separator = '/';\n    const [month = '', year = ''] = value.split(new RegExp(`\\\\s*${separator}\\\\s*`));\n\n    if (!/^\\d+$/.test(month) || !/^\\d+$/.test(year)) {\n        return { month: '', year: '' };\n    }\n\n    return {\n        month: month.length === 1 ? `0${month}` : month.slice(0, 2),\n        year: year.length === 2 ? `20${year}` : year.slice(0, 4),\n    };\n}\n","import { compact } from 'lodash';\n\nexport default function getUniquePaymentMethodId(methodId: string, gatewayId?: string): string {\n    return compact([gatewayId, methodId]).join('-');\n}\n\nexport function parseUniquePaymentMethodId(value: string): {\n    methodId: string;\n    gatewayId?: string;\n} {\n    const [gatewayId, methodId] = value.includes('-') ? value.split('-') : [undefined, value];\n\n    return { gatewayId, methodId };\n}\n","import { type CardInstrumentFieldsetValues } from '../storedInstrument';\n\nexport default interface CreditCardFieldsetValues {\n    ccCustomerCode?: string;\n    ccCvv?: string;\n    ccExpiry: string;\n    ccName: string;\n    ccNumber: string;\n    shouldSaveInstrument?: boolean;\n}\n\nexport interface CreditCardValidationValues extends CardInstrumentFieldsetValues {\n    ccCvv?: string;\n    ccNumber?: string;\n}\n\nexport function hasCreditCardNumber(values: unknown): values is { ccNumber: string } {\n    if (!(values instanceof Object)) {\n        return false;\n    }\n\n    return 'ccNumber' in values;\n}\n\nexport function hasCreditCardExpiry(values: unknown): values is { ccExpiry: string } {\n    if (!(values instanceof Object)) {\n        return false;\n    }\n\n    return 'ccExpiry' in values;\n}\n","import React, { type FunctionComponent } from 'react';\n\nimport TermsConditionsField, { TermsConditionsType } from './TermsConditionsField';\n\nexport interface TermsConditionsProps {\n    termsConditionsText?: string;\n    termsConditionsUrl?: string;\n}\n\nexport const TermsConditions: FunctionComponent<TermsConditionsProps> = ({\n    termsConditionsUrl,\n    termsConditionsText = '',\n}) => (\n    <>\n        {termsConditionsUrl ? (\n            <TermsConditionsField\n                name=\"terms\"\n                type={TermsConditionsType.Link}\n                url={termsConditionsUrl}\n            />\n        ) : (\n            <TermsConditionsField\n                name=\"terms\"\n                terms={termsConditionsText}\n                type={TermsConditionsType.TextArea}\n            />\n        )}\n    </>\n);\n","import { type LanguageService } from '@bigcommerce/checkout-sdk';\nimport { object, type ObjectSchema, string, type StringSchema } from 'yup';\n\nimport { type PaymentFormValues } from '@bigcommerce/checkout/payment-integration-api';\n\nimport { getTermsConditionsValidationSchema } from '../termsConditions';\n\nexport interface PaymentValidationSchemaOptions {\n    additionalValidation?: ObjectSchema<Partial<PaymentFormValues>>;\n    isTermsConditionsRequired: boolean;\n    language: LanguageService;\n}\n\nexport default function getPaymentValidationSchema({\n    additionalValidation,\n    isTermsConditionsRequired,\n    language,\n}: PaymentValidationSchemaOptions): ObjectSchema<PaymentFormValues> {\n    const schemaFields: {\n        paymentProviderRadio: StringSchema;\n    } = {\n        paymentProviderRadio: string().required(),\n    };\n\n    const schemaFieldsWithTerms = object(schemaFields).concat(\n        getTermsConditionsValidationSchema({ isTermsConditionsRequired, language }),\n    );\n\n    return additionalValidation\n        ? schemaFieldsWithTerms.concat(additionalValidation as any)\n        : schemaFieldsWithTerms;\n}\n","import { type LanguageService } from '@bigcommerce/checkout-sdk';\nimport { boolean, type BooleanSchema, object, type ObjectSchema } from 'yup';\n\nexport interface TermsConditionValidationSchemaOptions {\n    isTermsConditionsRequired: boolean;\n    language: LanguageService;\n}\n\nexport default function getTermsConditionsValidationSchema({\n    isTermsConditionsRequired,\n    language,\n}: TermsConditionValidationSchemaOptions): ObjectSchema<{ terms?: boolean }> {\n    const schemaFields: {\n        terms?: BooleanSchema;\n    } = {};\n\n    if (isTermsConditionsRequired) {\n        schemaFields.terms = boolean().oneOf(\n            [true],\n            language.translate('terms_and_conditions.agreement_required_error'),\n        );\n    }\n\n    return object(schemaFields);\n}\n","enum PaymentMethodType {\n    ApplePay = 'applepay',\n    Barclaycard = 'barclaycard',\n    CreditCard = 'credit-card',\n    GooglePay = 'googlepay',\n    PayWithGoogle = 'paywithgoogle',\n    Masterpass = 'masterpass',\n    MultiOption = 'multi-option',\n    Paypal = 'paypal',\n    PaypalCredit = 'paypal-credit',\n    PaypalVenmo = 'paypal-venmo',\n    VisaCheckout = 'visa-checkout',\n}\n\nexport default PaymentMethodType;\n","import { type LanguageService, type PaymentMethod } from '@bigcommerce/checkout-sdk';\nimport { capitalize, get } from 'lodash';\n\nimport PaymentMethodId from './PaymentMethodId';\nimport PaymentMethodType from './PaymentMethodType';\n\n/**\n * Always return the translated name of a payment method unless it is a\n * multi-option payment method or it doesn't have any translation. It's possible\n * to translate the gateway name of multi-option methods, i.e.: AfterPay.\n * However, because the options provided by the gateway can vary a lot, i.e.:\n * \"Pay by Installment\", therefore it's not feasible to do the translation on\n * the UI level.\n */\nexport default function getPaymentMethodName(\n    language: LanguageService,\n): (method: PaymentMethod) => string {\n    return (method) => {\n        let name = getTranslatedPaymentMethodName(language)(method);\n\n        if (!name || method.method === PaymentMethodType.MultiOption) {\n            name = method.config && method.config.displayName;\n        }\n\n        if (!name) {\n            name = capitalize(\n                get(method, 'initializationData.paymentData.cardData.digital_wallet_type') ||\n                    method.method ||\n                    method.id,\n            );\n        }\n\n        return name;\n    };\n}\n\nexport function getTranslatedPaymentMethodName(\n    language: LanguageService,\n): (method: PaymentMethod) => string | undefined {\n    return (method) => {\n        const translations: { [key: string]: string } = {\n            [PaymentMethodId.Affirm]: language.translate('payment.affirm_name_text'),\n            [PaymentMethodId.Afterpay]: language.translate('payment.afterpay_name_text'),\n            [PaymentMethodId.AmazonPay]: language.translate('payment.amazon_name_text'),\n            [PaymentMethodId.Bolt]: language.translate('payment.bolt_name_text'),\n            [PaymentMethodId.Clearpay]: language.translate('payment.clearpay_name_text'),\n            [PaymentMethodType.GooglePay]: language.translate('payment.google_pay_name_text'),\n            [PaymentMethodId.Klarna]: language.translate('payment.klarna_name_text'),\n            [PaymentMethodType.Paypal]: language.translate('payment.paypal_name_text'),\n            [PaymentMethodType.PaypalCredit]: language.translate('payment.paypal_credit_name_text'),\n            [PaymentMethodType.VisaCheckout]: language.translate('payment.vco_name_text'),\n        };\n\n        return translations[method.id] || translations[method.method];\n    };\n}\n","import React, { type FunctionComponent, memo, type ReactNode } from 'react';\n\nexport interface CustomChecklistItemProps {\n    content?: ReactNode;\n    htmlId?: string;\n}\n\nconst CustomChecklistItem: FunctionComponent<CustomChecklistItemProps> = ({\n    content,\n    htmlId,\n}) => {\n    return (\n        <li\n            className=\"form-checklist-item optimizedCheckout-form-checklist-item custom-checklist-item\"\n            id={htmlId}\n        >\n            {content}\n        </li>\n    );\n};\n\nexport default memo(CustomChecklistItem);\n","import React, { FunctionComponent, useEffect } from 'react';\n\nimport { PaymentMethodId, useCheckout } from '@bigcommerce/checkout/payment-integration-api';\n\nconst BigCommercePaymentsPayLaterBanner: FunctionComponent<{\n    onUnhandledError?(error: Error): void\n}> = ({ onUnhandledError }) => {\n    const { checkoutService } = useCheckout();\n\n    useEffect(() => {\n        try {\n            void checkoutService.initializePayment({\n                methodId: PaymentMethodId.BigCommercePaymentsPayLater,\n                bigcommerce_payments_paylater: {\n                    bannerContainerId: 'bigcommerce-payments-banner-container',\n                },\n            });\n\n            void checkoutService.deinitializePayment({\n                methodId: PaymentMethodId.BigCommercePaymentsPayLater,\n            });\n        } catch (error) {\n            if (error instanceof Error) {\n                onUnhandledError?.(error);\n            }\n        }\n    }, []);\n\n    return (\n        <div\n            data-test='bigcommerce-payments-banner-container'\n            id='bigcommerce-payments-banner-container'\n        />\n    );\n};\n\nexport default BigCommercePaymentsPayLaterBanner;\n","import React, { type FunctionComponent, useEffect } from 'react';\n\nimport { useCheckout } from '@bigcommerce/checkout/payment-integration-api';\n\ninterface BraintreePaypalCreditBannerProps {\n    methodId: string;\n    containerId: string;\n    onUnhandledError?(error: Error): void;\n}\n\nconst BraintreePaypalCreditBanner: FunctionComponent<BraintreePaypalCreditBannerProps> = ({\n    methodId,\n    containerId,\n    onUnhandledError,\n}) => {\n    const { checkoutService } = useCheckout();\n\n    useEffect(() => {\n        try {\n            void checkoutService.initializePayment({\n                methodId,\n                braintree: {\n                    bannerContainerId: containerId,\n                },\n            });\n\n            void checkoutService.deinitializePayment({\n                methodId,\n            });\n        } catch (error) {\n            if (error instanceof Error) {\n                onUnhandledError?.(error);\n            }\n        }\n\n        return () => {\n            try {\n                void checkoutService.deinitializePayment({\n                    methodId,\n                });\n            } catch (error) {\n                if (error instanceof Error) {\n                    onUnhandledError?.(error);\n                }\n            }\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return <div data-test={containerId} id={containerId} />;\n};\n\nexport default BraintreePaypalCreditBanner;\n","import React, { type FunctionComponent, useEffect } from 'react';\n\nimport { useCheckout } from '@bigcommerce/checkout/payment-integration-api';\n\nconst PaypalCommerceCreditBanner: FunctionComponent<{\n    methodId: string;\n    containerId: string;\n    onUnhandledError?(error: Error): void;\n}> = ({ methodId, containerId, onUnhandledError }) => {\n    const { checkoutService } = useCheckout();\n\n    useEffect(() => {\n        try {\n            void checkoutService.initializePayment({\n                methodId,\n                [methodId]: {\n                    bannerContainerId: containerId,\n                },\n            });\n\n            void checkoutService.deinitializePayment({\n                methodId,\n            });\n        } catch (error) {\n            if (error instanceof Error) {\n                onUnhandledError?.(error);\n            }\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return <div data-test={containerId} id={containerId} />;\n};\n\nexport default PaypalCommerceCreditBanner;\n","import classNames from 'classnames';\nimport React, { type FunctionComponent, memo } from 'react';\n\nimport { CreditCardIcon, filterInstrumentTypes } from './';\n\nexport interface CreditCardIconListProps {\n    selectedCardType?: string;\n    cardTypes: string[];\n}\n\nconst CreditCardIconList: FunctionComponent<CreditCardIconListProps> = ({\n    selectedCardType,\n    cardTypes,\n}) => {\n    const filteredCardTypes = filterInstrumentTypes(cardTypes);\n\n    if (!filteredCardTypes.length) {\n        return null;\n    }\n\n    return (\n        <ul className=\"creditCardTypes-list\">\n            {filteredCardTypes.map((type) => (\n                <li\n                    className={classNames(\n                        'creditCardTypes-list-item',\n                        { 'is-active': selectedCardType === type },\n                        { 'not-active': selectedCardType && selectedCardType !== type },\n                    )}\n                    data-test={`${type}-icon`}\n                    key={type}\n                >\n                    <span className=\"cardIcon\">\n                        <CreditCardIcon cardType={type} />\n                    </span>\n                </li>\n            ))}\n        </ul>\n    );\n};\n\nexport default memo(CreditCardIconList);\n","import { type CardInstrument, type CheckoutSettings, type LanguageService, type PaymentMethod } from '@bigcommerce/checkout-sdk';\nimport { number } from 'card-validator';\nimport classNames from 'classnames';\nimport { compact } from 'lodash';\nimport React, { type FunctionComponent, memo, type ReactNode } from 'react';\n\nimport { BigCommercePaymentsPayLaterBanner } from '@bigcommerce/checkout/bigcommerce-payments-utils'\nimport { withLanguage, type WithLanguageProps } from '@bigcommerce/checkout/locale';\nimport { type CheckoutContextProps , type PaymentFormValues } from '@bigcommerce/checkout/payment-integration-api';\nimport { BraintreePaypalCreditBanner, PaypalCommerceCreditBanner } from '@bigcommerce/checkout/paypal-utils';\nimport { CreditCardIconList, mapFromPaymentMethodCardType, useThemeContext } from '@bigcommerce/checkout/ui';\n\nimport { withCheckout } from '../../checkout';\nimport { connectFormik, type ConnectFormikProps } from '../../common/form';\nimport { isExperimentEnabled } from '../../common/utility';\n\nimport { hasCreditCardNumber } from './CreditCardFieldsetValues';\nimport getPaymentMethodDisplayName from './getPaymentMethodDisplayName';\nimport getPaymentMethodName from './getPaymentMethodName';\nimport { isHostedCreditCardFieldsetValues } from './HostedCreditCardFieldsetValues';\nimport PaymentMethodId from './PaymentMethodId';\nimport PaymentMethodType from './PaymentMethodType';\n\nexport interface PaymentMethodTitleProps {\n    method: PaymentMethod;\n    isSelected?: boolean;\n    onUnhandledError?(error: Error): void;\n}\n\ninterface WithPaymentTitleProps {\n    instruments: CardInstrument[];\n    checkoutSettings: CheckoutSettings;\n    storeCountryCode: string;\n    cdnBasePath: string;\n}\n\ninterface PaymentMethodSubtitleProps {\n    onUnhandledError?(error: Error): void;\n    methodId: string;\n}\n\ntype SubtitleType = ReactNode | ((subtitleProps?: PaymentMethodSubtitleProps) => ReactNode);\n\nexport function getPaymentMethodTitle(\n    language: LanguageService,\n    basePath: string,\n    checkoutSettings: CheckoutSettings,\n    storeCountryCode: string,\n): (method: PaymentMethod) => {\n    logoUrl: string;\n    titleText: string,\n    subtitle?: SubtitleType\n} {\n    const cdnPath = (path: string) => `${basePath}${path}`;\n\n    return (method) => {\n        const paymentWithLogo = method.initializationData?.methodsWithLogo\n            ? method.initializationData.methodsWithLogo\n            : [];\n        const methodName = getPaymentMethodName(language)(method);\n        const methodDisplayName = getPaymentMethodDisplayName(language)(method);\n        // TODO: API could provide the data below so UI can read simply read it.\n        // However, I'm not sure how we deal with translation yet. TBC.\n        const customTitles: { [key: string]: { logoUrl: string; titleText: string, subtitle?: ReactNode | ((props: any) => ReactNode) } } = {\n            [PaymentMethodType.CreditCard]: {\n                logoUrl: '',\n                titleText: methodName,\n            },\n            [PaymentMethodId.BraintreeVenmo]: {\n                logoUrl: method.logoUrl || '',\n                titleText: method.logoUrl ? '' : methodDisplayName,\n            },\n            [PaymentMethodId.BraintreePaypalCredit]: {\n                logoUrl: cdnPath('/img/payment-providers/paypal_commerce_logo_letter.svg'),\n                titleText: methodDisplayName,\n                subtitle: (props: PaymentMethodSubtitleProps): ReactNode => (\n                    <BraintreePaypalCreditBanner containerId='braintree-credit-banner-container' {...props} />\n                ),\n            },\n            [PaymentMethodType.PaypalCredit]: {\n                logoUrl: cdnPath('/img/payment-providers/paypal_commerce_logo_letter.svg'),\n                titleText: methodDisplayName,\n            },\n            [PaymentMethodId.BraintreeAch]: {\n                logoUrl: method.logoUrl || '',\n                titleText: methodDisplayName,\n            },\n            [PaymentMethodId.BraintreeLocalPaymentMethod]: {\n                logoUrl: method.logoUrl || '',\n                titleText: methodDisplayName,\n            },\n            [PaymentMethodId.BigCommercePaymentsPayPal]: {\n                logoUrl: cdnPath('/img/payment-providers/paypal_commerce_logo.svg'),\n                titleText: '',\n                subtitle: (props: PaymentMethodSubtitleProps) => <BigCommercePaymentsPayLaterBanner {...props} />\n            },\n            [PaymentMethodId.BigCommercePaymentsPayLater]: {\n                logoUrl: cdnPath('/img/payment-providers/paypal_commerce_logo_letter.svg'),\n                titleText: methodDisplayName,\n                subtitle: (props: PaymentMethodSubtitleProps) => <BigCommercePaymentsPayLaterBanner {...props} />\n            },\n            [PaymentMethodId.BigCommercePaymentsAlternativeMethod]: {\n                logoUrl: method.logoUrl || '',\n                titleText: method.logoUrl ? '' : methodDisplayName,\n            },\n            [PaymentMethodId.PaypalCommerce]: {\n                logoUrl: cdnPath('/img/payment-providers/paypal_commerce_logo.svg'),\n                titleText: '',\n                subtitle: (props: PaymentMethodSubtitleProps) => <PaypalCommerceCreditBanner containerId='paypal-commerce-banner-container' {...props} />\n            },\n            [PaymentMethodId.PaypalCommerceCredit]: {\n                logoUrl: cdnPath('/img/payment-providers/paypal_commerce_logo_letter.svg'),\n                titleText: methodDisplayName,\n                subtitle: (props: PaymentMethodSubtitleProps) => <PaypalCommerceCreditBanner containerId='paypal-commerce-credit-banner-container' {...props} />\n            },\n            [PaymentMethodId.PaypalCommerceAlternativeMethod]: {\n                logoUrl: method.logoUrl || '',\n                titleText: method.logoUrl ? '' : methodDisplayName,\n            },\n            [PaymentMethodType.VisaCheckout]: {\n                logoUrl: cdnPath('/img/payment-providers/visa-checkout.png'),\n                titleText: methodName,\n            },\n            [PaymentMethodId.Affirm]: {\n                logoUrl: cdnPath('/img/payment-providers/affirm-checkout-header.png'),\n                titleText: language.translate('payment.affirm_display_name_text'),\n            },\n            [PaymentMethodId.Afterpay]: {\n                logoUrl: isExperimentEnabled(checkoutSettings, 'PROJECT-6993.change_afterpay_logo_for_us_stores') && storeCountryCode === 'US' ? cdnPath('/img/payment-providers/afterpay-new-us.svg') : cdnPath('/img/payment-providers/afterpay-badge-blackonmint.png'),\n                titleText: methodName,\n            },\n            [PaymentMethodId.AmazonPay]: {\n                logoUrl: cdnPath('/img/payment-providers/amazon-header.png'),\n                titleText: '',\n            },\n            [PaymentMethodId.ApplePay]: {\n                logoUrl: cdnPath('/modules/checkout/applepay/images/applepay-header@2x.png'),\n                titleText: '',\n            },\n            [PaymentMethodId.Bolt]: {\n                logoUrl: '',\n                titleText: methodDisplayName,\n            },\n            [PaymentMethodId.Clearpay]: {\n                logoUrl: cdnPath('/img/payment-providers/clearpay-header.png'),\n                titleText: '',\n            },\n            [PaymentMethodType.GooglePay]: {\n                logoUrl: cdnPath('/img/payment-providers/google-pay.png'),\n                titleText: '',\n            },\n            [PaymentMethodType.PayWithGoogle]: {\n                logoUrl: cdnPath('/img/payment-providers/google-pay.png'),\n                titleText: '',\n            },\n            [PaymentMethodId.Humm]: {\n                logoUrl: cdnPath('/img/payment-providers/humm-checkout-header.png'),\n                titleText: '',\n            },\n            [PaymentMethodId.Klarna]: {\n                logoUrl: method.initializationData?.enableBillie\n                        ? cdnPath('/img/payment-providers/klarna-billie-header.png')\n                        : cdnPath('/img/payment-providers/klarna-header.png'),\n                titleText: methodDisplayName,\n            },\n            [PaymentMethodId.Laybuy]: {\n                logoUrl: cdnPath('/img/payment-providers/laybuy-checkout-header.png'),\n                titleText: '',\n            },\n            [PaymentMethodId.Masterpass]: {\n                logoUrl: 'https://masterpass.com/dyn/img/acc/global/mp_mark_hor_blk.svg',\n                titleText: '',\n            },\n            [PaymentMethodType.Paypal]: {\n                // TODO: method.id === PaymentMethodId.BraintreeVenmo should be removed after the PAYPAL-1380.checkout_button_strategies_update experiment removal\n                logoUrl:\n                    method.id === PaymentMethodId.BraintreeVenmo && method.logoUrl\n                        ? method.logoUrl\n                        : cdnPath('/img/payment-providers/paypalpaymentsprouk.png'),\n                titleText: '',\n                subtitle: (props: PaymentMethodSubtitleProps): ReactNode => (\n                    <BraintreePaypalCreditBanner containerId='braintree-banner-container' {...props} />\n                ),\n            },\n            [PaymentMethodId.Quadpay]: {\n                logoUrl: cdnPath('/img/payment-providers/quadpay.png'),\n                titleText: language.translate('payment.quadpay_display_name_text'),\n            },\n            [PaymentMethodId.Sezzle]: {\n                logoUrl: cdnPath('/img/payment-providers/sezzle-checkout-header.png'),\n                titleText: language.translate('payment.sezzle_display_name_text'),\n            },\n            [PaymentMethodId.Zip]: {\n                logoUrl: cdnPath('/img/payment-providers/zip.png'),\n                titleText: language.translate('payment.zip_display_name_text'),\n            },\n            [PaymentMethodType.Barclaycard]: {\n                logoUrl: cdnPath(\n                    `/img/payment-providers/barclaycard_${method.id.toLowerCase()}.png`,\n                ),\n                titleText: '',\n            },\n            [PaymentMethodId.AdyenV2]: {\n                logoUrl: `https://checkoutshopper-live.adyen.com/checkoutshopper/images/logos/${\n                    method.method === 'scheme' ? 'card' : method.method\n                }.svg`,\n                titleText: methodDisplayName,\n            },\n            [PaymentMethodId.AdyenV3]: {\n                logoUrl: `https://checkoutshopper-live.adyen.com/checkoutshopper/images/logos/${\n                    method.method === 'scheme' ? 'card' : method.method\n                }.svg`,\n                titleText: methodDisplayName,\n            },\n            [PaymentMethodId.Mollie]: {\n                logoUrl:\n                    method.method === 'credit_card'\n                        ? ''\n                        : cdnPath(`/img/payment-providers/mollie_${method.method}.svg`),\n                titleText: methodDisplayName,\n            },\n            [PaymentMethodId.Checkoutcom]: {\n                logoUrl: ['credit_card', 'card', 'checkoutcom'].includes(method.id)\n                    ? ''\n                    : cdnPath(`/img/payment-providers/checkoutcom_${method.id.toLowerCase()}.svg`),\n                titleText: methodName,\n            },\n            [PaymentMethodId.StripeV3]: {\n                logoUrl: paymentWithLogo.includes(method.id)\n                    ? cdnPath(`/img/payment-providers/stripe-${method.id.toLowerCase()}.svg`)\n                    : '',\n                titleText:\n                    method.method === 'iban'\n                        ? language.translate('payment.stripe_sepa_display_name_text')\n                        : methodName,\n            },\n            [PaymentMethodId.StripeUPE]: {\n                logoUrl: paymentWithLogo.includes(method.id)\n                    ? cdnPath(`/img/payment-providers/stripe-${method.id.toLowerCase()}.svg`)\n                    : '',\n                titleText:\n                    method.method === 'iban'\n                        ? language.translate('payment.stripe_sepa_display_name_text')\n                        : methodName,\n            },\n            [PaymentMethodId.WorldpayAccess]: {\n                logoUrl: '',\n                titleText: language.translate('payment.credit_debit_card_text'),\n            },\n        };\n\n        if (method.gateway === PaymentMethodId.BlueSnapDirect) {\n            if (method.id === 'credit_card') {\n                return { logoUrl: '', titleText: language.translate('payment.credit_card_text') };\n            }\n\n            if (method.id === 'ecp') {\n                return { logoUrl: '', titleText: language.translate('payment.bluesnap_direct_electronic_check_label') };\n            }\n\n            if (method.id === 'banktransfer') {\n                return { logoUrl: '', titleText: language.translate('payment.bluesnap_direct_local_bank_transfer_label') };\n            }\n        }\n\n        if (method.id === PaymentMethodId.PaypalCommerceVenmo) {\n            return customTitles[PaymentMethodId.PaypalCommerceAlternativeMethod];\n        }\n\n        if (\n          method.gateway === PaymentMethodId.BigCommercePaymentsAlternativeMethod &&\n          method.id === PaymentMethodId.Klarna\n        ) {\n            return {\n                logoUrl: cdnPath('/img/payment-providers/klarna.png'),\n                titleText: methodDisplayName,\n            };\n        }\n\n        if (method.id === PaymentMethodId.BigCommercePaymentsVenmo) {\n            return customTitles[PaymentMethodId.BigCommercePaymentsAlternativeMethod];\n        }\n\n        // KLUDGE: 'paypal' is actually a credit card method. It is the only\n        // exception to the rule below. We should probably fix it on API level,\n        // but apparently it would break LCO if we are not careful.\n        if (\n            method.id === PaymentMethodId.PaypalPaymentsPro &&\n            method.method === PaymentMethodType.CreditCard\n        ) {\n            return customTitles[PaymentMethodType.CreditCard];\n        }\n\n        if (method.id === PaymentMethodId.Ratepay) {\n            return { logoUrl: method.logoUrl || '', titleText: language.translate('payment.ratepay.payment_method_title') };\n        }\n\n        return (\n            customTitles[method.gateway || ''] ||\n            customTitles[method.id] ||\n            customTitles[method.method] ||\n            customTitles[PaymentMethodType.CreditCard]\n        );\n    };\n}\n\nfunction getInstrumentForMethod(\n    instruments: CardInstrument[],\n    method: PaymentMethod,\n    values: PaymentFormValues\n): CardInstrument | undefined {\n    const instrumentsForMethod = instruments.filter(instrument => instrument.provider === method.id);\n    const selectedInstrument = instrumentsForMethod.find(instrument => instrument.bigpayToken === values.instrumentId);\n\n    return selectedInstrument;\n}\n\nconst PaymentMethodTitle: FunctionComponent<\n    PaymentMethodTitleProps &\n        WithLanguageProps &\n        WithPaymentTitleProps &\n        ConnectFormikProps<PaymentFormValues>\n> = ({ cdnBasePath, checkoutSettings, storeCountryCode, onUnhandledError, formik: { values }, instruments, isSelected, language, method }) => {\n    const methodName = getPaymentMethodName(language)(method);\n    const { logoUrl, titleText, subtitle } = getPaymentMethodTitle(language, cdnBasePath, checkoutSettings, storeCountryCode)(method);\n    const { themeV2 } = useThemeContext();\n\n    const getSelectedCardType = () => {\n        if (!isSelected) {\n            return;\n        }\n\n        const instrumentSelected = getInstrumentForMethod(instruments, method, values);\n\n        if (isHostedCreditCardFieldsetValues(values) && values.hostedForm.cardType) {\n            return values.hostedForm.cardType;\n        }\n\n        if (hasCreditCardNumber(values) && values.ccNumber) {\n            const { card } = number(values.ccNumber);\n\n            if (!card) {\n                return;\n            }\n\n            return card.type;\n        }\n\n        if (instrumentSelected) {\n            return instrumentSelected.brand;\n        }\n    };\n\n    const getSubtitle = () => {\n        const node = subtitle instanceof Function ? subtitle({ onUnhandledError, methodId: method.id }) : subtitle;\n\n        return node ? <div className=\"paymentProviderHeader-subtitleContainer\">\n            {node}\n        </div> : null\n    }\n\n    return (\n        <div className={\n            classNames(\n                'paymentProviderHeader-container',\n                { 'paymentProviderHeader-container-googlePay': method.id.includes('googlepay') },\n            )\n        }>\n            <div\n                className=\"paymentProviderHeader-nameContainer\"\n                data-test={`payment-method-${method.id}`}\n            >\n                {logoUrl && (\n                    <img\n                        alt={`${methodName} icon`}\n                        className={classNames(\n                            'paymentProviderHeader-img',\n                            { 'paymentProviderHeader-img-applePay': method.id === 'applepay' },\n                            { 'paymentProviderHeader-img-googlePay': method.id.includes('googlepay') },\n                        )}\n                        data-test=\"payment-method-logo\"\n                        src={logoUrl}\n                    />\n                )}\n\n                {titleText && (\n                    <div className={classNames('paymentProviderHeader-name',\n                        { 'sub-header': themeV2 })}\n                        data-test=\"payment-method-name\">\n                        {titleText}\n                    </div>\n                )}\n                {getSubtitle()}\n            </div>\n            <div className=\"paymentProviderHeader-cc\">\n                <CreditCardIconList\n                    cardTypes={compact(method.supportedCards.map(mapFromPaymentMethodCardType))}\n                    selectedCardType={getSelectedCardType()}\n                />\n            </div>\n        </div>\n    );\n};\n\nfunction mapToCheckoutProps({ checkoutState }: CheckoutContextProps): WithPaymentTitleProps | null {\n    const {\n        data: { getConfig, getInstruments },\n    } = checkoutState;\n    const config = getConfig();\n\n    const instruments = getInstruments() || [];\n\n    if (!config) {\n        return null;\n    }\n\n    const storeCountryCode = config.storeProfile.storeCountryCode\n\n    return {\n        instruments,\n        checkoutSettings: config.checkoutSettings,\n        storeCountryCode,\n        cdnBasePath: config.cdnPath,\n    };\n}\n\nexport default connectFormik(\n    withLanguage(withCheckout(mapToCheckoutProps)(memo(PaymentMethodTitle))),\n);\n","import { type LanguageService, type PaymentMethod } from '@bigcommerce/checkout-sdk';\n\nimport PaymentMethodId from './PaymentMethodId';\n\nexport default function getPaymentMethodDisplayName(\n    language: LanguageService,\n): (method: PaymentMethod) => string {\n    return (method) => {\n        const { displayName } = method.config;\n\n        const isCreditCard = displayName?.toLowerCase() === 'credit card';\n\n        if (\n            method.id === PaymentMethodId.PaypalCommerceCredit ||\n            method.id === PaymentMethodId.BigCommercePaymentsPayLater ||\n            method.id === PaymentMethodId.BraintreePaypalCredit\n        ) {\n            const { payPalCreditProductBrandName } = method.initializationData;\n\n            if (payPalCreditProductBrandName) {\n                return payPalCreditProductBrandName.credit || payPalCreditProductBrandName;\n            }\n\n            return 'Pay Later';\n        }\n\n        if (\n            (isCreditCard && method.id === PaymentMethodId.AdyenV2) ||\n            method.id === PaymentMethodId.AdyenV3\n        ) {\n            return language.translate('payment.credit_debit_card_text');\n        }\n\n        if (isCreditCard) {\n            return language.translate('payment.credit_card_text');\n        }\n\n        return displayName || '';\n    };\n}\n","interface HostedCreditCardFieldsetValues {\n    hostedForm: {\n        cardType?: string;\n        errors?: {\n            cardCode?: string;\n            cardExpiry?: string;\n            cardName?: string;\n            cardNumber?: string;\n        };\n    };\n}\n\nexport function isHostedCreditCardFieldsetValues(\n    value: unknown,\n): value is HostedCreditCardFieldsetValues {\n    if (!(value instanceof Object)) {\n        return false;\n    }\n\n    if (!('hostedForm' in value)) {\n        return false;\n    }\n\n    return true;\n}\n","import React, { type ReactNode } from 'react';\n\nimport type PaymentFormService from '../../PaymentFormService';\n\nimport { PaymentFormContext } from './PaymentFormContext';\n\ninterface PaymentFormProviderProps {\n    children?: ReactNode;\n    paymentForm: PaymentFormService;\n}\n\nexport const PaymentFormProvider = ({ children, paymentForm }: PaymentFormProviderProps) => {\n    return (\n        <PaymentFormContext.Provider value={{ paymentForm }}>\n            {children}\n        </PaymentFormContext.Provider>\n    );\n};\n","import { lazy } from 'react';\n\nconst AdyenV2PaymentMethod = lazy(() => import(/* webpackChunkName: \"adyen-v2-payment-method\" */'@bigcommerce/checkout/adyen-integration').then(module => ({ default: module.AdyenV2PaymentMethod })));\nconst AdyenV3PaymentMethod = lazy(() => import(/* webpackChunkName: \"adyen-v3-payment-method\" */'@bigcommerce/checkout/adyen-integration').then(module => ({ default: module.AdyenV3PaymentMethod })));\nconst AffirmPaymentMethod = lazy(() => import(/* webpackChunkName: \"affirm-payment-method\" */'@bigcommerce/checkout/affirm-integration').then(module => ({ default: module.AffirmPaymentMethod })));\nconst AmazonPayV2PaymentMethod = lazy(() => import(/* webpackChunkName: \"amazon-pay-v2-payment-method\" */'@bigcommerce/checkout/amazon-pay-v2-integration').then(module => ({ default: module.AmazonPayV2PaymentMethod })));\nconst ApplePayPaymentMethod = lazy(() => import(/* webpackChunkName: \"apple-pay-payment-method\" */'@bigcommerce/checkout/apple-pay-integration').then(module => ({ default: module.ApplePayPaymentMethod })));\nconst BarclaycardPaymentMethod = lazy(() => import(/* webpackChunkName: \"barclaycard-payment-method\" */'@bigcommerce/checkout/barclay-integration').then(module => ({ default: module.BarclaycardPaymentMethod })));\nconst BigCommercePaymentsPaymentMethod = lazy(() => import(/* webpackChunkName: \"big-commerce-payments-payment-method\" */'@bigcommerce/checkout/bigcommerce-payments-integration').then(module => ({ default: module.BigCommercePaymentsPaymentMethod })));\nconst BigCommercePaymentsAPMsPaymentMethod = lazy(() => import(/* webpackChunkName: \"big-commerce-payments-apms-payment-method\" */'@bigcommerce/checkout/bigcommerce-payments-integration').then(module => ({ default: module.BigCommercePaymentsAPMsPaymentMethod })));\nconst BigCommercePaymentsCreditCardsPaymentMethod = lazy(() => import(/* webpackChunkName: \"big-commerce-payments-credit-cards-payment-method\" */'@bigcommerce/checkout/bigcommerce-payments-integration').then(module => ({ default: module.BigCommercePaymentsCreditCardsPaymentMethod })));\nconst BigCommercePaymentsFastlanePaymentMethod = lazy(() => import(/* webpackChunkName: \"big-commerce-payments-fastlane-payment-method\" */'@bigcommerce/checkout/bigcommerce-payments-integration').then(module => ({ default: module.BigCommercePaymentsFastlanePaymentMethod })));\nconst BigCommercePaymentsPayLaterPaymentMethod = lazy(() => import(/* webpackChunkName: \"big-commerce-payments-pay-later-payment-method\" */'@bigcommerce/checkout/bigcommerce-payments-integration').then(module => ({ default: module.BigCommercePaymentsPayLaterPaymentMethod })));\nconst BigCommercePaymentsVenmoPaymentMethod = lazy(() => import(/* webpackChunkName: \"big-commerce-payments-venmo-payment-method\" */'@bigcommerce/checkout/bigcommerce-payments-integration').then(module => ({ default: module.BigCommercePaymentsVenmoPaymentMethod })));\nconst BigCommercePaymentsRatePayPaymentMethod = lazy(() => import(/* webpackChunkName: \"big-commerce-payments-rate-pay-payment-method\" */'@bigcommerce/checkout/bigcommerce-payments-integration').then(module => ({ default: module.BigCommercePaymentsRatePayPaymentMethod })));\nconst BlueSnapDirectEcpPaymentMethod = lazy(() => import(/* webpackChunkName: \"blue-snap-direct-ecp-payment-method\" */'@bigcommerce/checkout/bluesnap-direct-integration').then(module => ({ default: module.BlueSnapDirectEcpPaymentMethod })));\nconst BlueSnapDirectAlternativePaymentMethod = lazy(() => import(/* webpackChunkName: \"blue-snap-direct-alternative-payment-method\" */'@bigcommerce/checkout/bluesnap-direct-integration').then(module => ({ default: module.BlueSnapDirectAlternativePaymentMethod })));\nconst BlueSnapDirectSepaPaymentMethod = lazy(() => import(/* webpackChunkName: \"blue-snap-direct-sepa-payment-method\" */'@bigcommerce/checkout/bluesnap-direct-integration').then(module => ({ default: module.BlueSnapDirectSepaPaymentMethod })));\nconst BlueSnapDirectIdealPaymentMethod = lazy(() => import(/* webpackChunkName: \"blue-snap-direct-ideal-payment-method\" */'@bigcommerce/checkout/bluesnap-direct-integration').then(module => ({ default: module.BlueSnapDirectIdealPaymentMethod })));\nconst BlueSnapV2PaymentMethod = lazy(() => import(/* webpackChunkName: \"blue-snap-v2-payment-method\" */'@bigcommerce/checkout/bluesnap-direct-integration').then(module => ({ default: module.BlueSnapV2PaymentMethod })));\nconst BlueSnapDirectPayByBankPaymentMethod = lazy(() => import(/* webpackChunkName: \"blue-snap-direct-pay-by-bank-payment-method\" */'@bigcommerce/checkout/bluesnap-direct-integration').then(module => ({ default: module.BlueSnapDirectPayByBankPaymentMethod })));\nconst BoltClientPaymentMethod = lazy(() => import(/* webpackChunkName: \"bolt-client-payment-method\" */'@bigcommerce/checkout/bolt-integration').then(module => ({ default: module.BoltClientPaymentMethod })));\nconst BoltEmbeddedPaymentMethod = lazy(() => import(/* webpackChunkName: \"bolt-embedded-payment-method\" */'@bigcommerce/checkout/bolt-integration').then(module => ({ default: module.BoltEmbeddedPaymentMethod })));\nconst BoltPaymentMethod = lazy(() => import(/* webpackChunkName: \"bolt-payment-method\" */'@bigcommerce/checkout/bolt-integration').then(module => ({ default: module.BoltPaymentMethod })));\nconst BraintreeAchPaymentMethod = lazy(() => import(/* webpackChunkName: \"braintree-ach-payment-method\" */'@bigcommerce/checkout/braintree-integration').then(module => ({ default: module.BraintreeAchPaymentMethod })));\nconst BraintreeFastlanePaymentMethod = lazy(() => import(/* webpackChunkName: \"braintree-fastlane-payment-method\" */'@bigcommerce/checkout/braintree-integration').then(module => ({ default: module.BraintreeFastlanePaymentMethod })));\nconst BraintreeLocalPaymentMethod = lazy(() => import(/* webpackChunkName: \"braintree-local-payment-method\" */'@bigcommerce/checkout/braintree-integration').then(module => ({ default: module.BraintreeLocalPaymentMethod })));\nconst BraintreePaypalPaymentMethod = lazy(() => import(/* webpackChunkName: \"braintree-paypal-payment-method\" */'@bigcommerce/checkout/braintree-integration').then(module => ({ default: module.BraintreePaypalPaymentMethod })));\nconst VisaCheckoutPaymentMethod = lazy(() => import(/* webpackChunkName: \"visa-checkout-payment-method\" */'@bigcommerce/checkout/braintree-integration').then(module => ({ default: module.VisaCheckoutPaymentMethod })));\nconst BraintreeVenmoPaymentMethod = lazy(() => import(/* webpackChunkName: \"braintree-venmo-payment-method\" */'@bigcommerce/checkout/braintree-integration').then(module => ({ default: module.BraintreeVenmoPaymentMethod })));\nconst CheckoutcomCustomPaymentMethod = lazy(() => import(/* webpackChunkName: \"checkoutcom-custom-payment-method\" */'@bigcommerce/checkout/checkoutcom-integration').then(module => ({ default: module.CheckoutcomCustomPaymentMethod })));\nconst ClearpayPaymentMethod = lazy(() => import(/* webpackChunkName: \"clearpay-payment-method\" */'@bigcommerce/checkout/clearpay-integration').then(module => ({ default: module.ClearpayPaymentMethod })));\nconst GooglePayPaymentMethod = lazy(() => import(/* webpackChunkName: \"google-pay-payment-method\" */'@bigcommerce/checkout/google-pay-integration').then(module => ({ default: module.GooglePayPaymentMethod })));\nconst HostedCreditCardPaymentMethod = lazy(() => import(/* webpackChunkName: \"hosted-credit-card-payment-method\" */'@bigcommerce/checkout/hosted-credit-card-integration').then(module => ({ default: module.HostedCreditCardPaymentMethod })));\nconst HostedPaymentMethod = lazy(() => import(/* webpackChunkName: \"hosted-payment-method\" */'@bigcommerce/checkout/hosted-payment-integration').then(module => ({ default: module.HostedPaymentMethod })));\nconst KlarnaPaymentMethod = lazy(() => import(/* webpackChunkName: \"klarna-payment-method\" */'@bigcommerce/checkout/klarna-integration').then(module => ({ default: module.KlarnaPaymentMethod })));\nconst KlarnaV2PaymentMethod = lazy(() => import(/* webpackChunkName: \"klarna-v2-payment-method\" */'@bigcommerce/checkout/klarna-integration').then(module => ({ default: module.KlarnaV2PaymentMethod })));\nconst MolliePaymentMethod = lazy(() => import(/* webpackChunkName: \"mollie-payment-method\" */'@bigcommerce/checkout/mollie-integration').then(module => ({ default: module.MolliePaymentMethod })));\nconst MonerisPaymentMethod = lazy(() => import(/* webpackChunkName: \"moneris-payment-method\" */'@bigcommerce/checkout/moneris-integration').then(module => ({ default: module.MonerisPaymentMethod })));\nconst OfflinePaymentMethod = lazy(() => import(/* webpackChunkName: \"offline-payment-method\" */'@bigcommerce/checkout/offline-payment-integration').then(module => ({ default: module.OfflinePaymentMethod })));\nconst PayPalCommerceAPMsPaymentMethod = lazy(() => import(/* webpackChunkName: \"pay-pal-commerce-apms-payment-method\" */'@bigcommerce/checkout/paypal-commerce-integration').then(module => ({ default: module.PayPalCommerceAPMsPaymentMethod })));\nconst PayPalCommerceCreditPaymentMethod = lazy(() => import(/* webpackChunkName: \"pay-pal-commerce-credit-payment-method\" */'@bigcommerce/checkout/paypal-commerce-integration').then(module => ({ default: module.PayPalCommerceCreditPaymentMethod })));\nconst PayPalCommerceCreditCardsPaymentMethod = lazy(() => import(/* webpackChunkName: \"pay-pal-commerce-credit-cards-payment-method\" */'@bigcommerce/checkout/paypal-commerce-integration').then(module => ({ default: module.PayPalCommerceCreditCardsPaymentMethod })));\nconst PayPalCommerceFastlanePaymentMethod = lazy(() => import(/* webpackChunkName: \"pay-pal-commerce-fastlane-payment-method\" */'@bigcommerce/checkout/paypal-commerce-integration').then(module => ({ default: module.PayPalCommerceFastlanePaymentMethod })));\nconst PayPalCommercePaymentMethod = lazy(() => import(/* webpackChunkName: \"pay-pal-commerce-payment-method\" */'@bigcommerce/checkout/paypal-commerce-integration').then(module => ({ default: module.PayPalCommercePaymentMethod })));\nconst PayPalCommerceVenmoPaymentMethod = lazy(() => import(/* webpackChunkName: \"pay-pal-commerce-venmo-payment-method\" */'@bigcommerce/checkout/paypal-commerce-integration').then(module => ({ default: module.PayPalCommerceVenmoPaymentMethod })));\nconst PaypalCommerceRatePayPaymentMethod = lazy(() => import(/* webpackChunkName: \"paypal-commerce-rate-pay-payment-method\" */'@bigcommerce/checkout/paypal-commerce-integration').then(module => ({ default: module.PaypalCommerceRatePayPaymentMethod })));\nconst PaypalExpressPaymentMethod = lazy(() => import(/* webpackChunkName: \"paypal-express-payment-method\" */'@bigcommerce/checkout/paypal-express-integration').then(module => ({ default: module.PaypalExpressPaymentMethod })));\nconst PayPalPaymentsProPaymentMethod = lazy(() => import(/* webpackChunkName: \"pay-pal-payments-pro-payment-method\" */'@bigcommerce/checkout/paypal-payments-pro-integration').then(module => ({ default: module.PayPalPaymentsProPaymentMethod })));\nconst PPSDKPaymentMethod = lazy(() => import(/* webpackChunkName: \"ppsdkpayment-method\" */'@bigcommerce/checkout/ppsdk-integration').then(module => ({ default: module.PPSDKPaymentMethod })));\nconst SquareV2PaymentMethod = lazy(() => import(/* webpackChunkName: \"square-v2-payment-method\" */'@bigcommerce/checkout/squarev2-integration').then(module => ({ default: module.SquareV2PaymentMethod })));\nconst StripeOCSPaymentMethod = lazy(() => import(/* webpackChunkName: \"stripe-ocspayment-method\" */'@bigcommerce/checkout/stripe-integration').then(module => ({ default: module.StripeOCSPaymentMethod })));\nconst StripeUPEPaymentMethod = lazy(() => import(/* webpackChunkName: \"stripe-upepayment-method\" */'@bigcommerce/checkout/stripe-integration').then(module => ({ default: module.StripeUPEPaymentMethod })));\nconst StripeV3PaymentMethod = lazy(() => import(/* webpackChunkName: \"stripe-v3-payment-method\" */'@bigcommerce/checkout/stripe-integration').then(module => ({ default: module.StripeV3PaymentMethod })));\nconst WorldpayCreditCardPaymentMethod = lazy(() => import(/* webpackChunkName: \"worldpay-credit-card-payment-method\" */'@bigcommerce/checkout/worldpay-access-integration').then(module => ({ default: module.WorldpayCreditCardPaymentMethod })));\n\nexport {\n  AdyenV2PaymentMethod,\n  AdyenV3PaymentMethod,\n  AffirmPaymentMethod,\n  AmazonPayV2PaymentMethod,\n  ApplePayPaymentMethod,\n  BarclaycardPaymentMethod,\n  BigCommercePaymentsPaymentMethod,\n  BigCommercePaymentsAPMsPaymentMethod,\n  BigCommercePaymentsCreditCardsPaymentMethod,\n  BigCommercePaymentsFastlanePaymentMethod,\n  BigCommercePaymentsPayLaterPaymentMethod,\n  BigCommercePaymentsVenmoPaymentMethod,\n  BigCommercePaymentsRatePayPaymentMethod,\n  BlueSnapDirectEcpPaymentMethod,\n  BlueSnapDirectAlternativePaymentMethod,\n  BlueSnapDirectSepaPaymentMethod,\n  BlueSnapDirectIdealPaymentMethod,\n  BlueSnapV2PaymentMethod,\n  BlueSnapDirectPayByBankPaymentMethod,\n  BoltClientPaymentMethod,\n  BoltEmbeddedPaymentMethod,\n  BoltPaymentMethod,\n  BraintreeAchPaymentMethod,\n  BraintreeFastlanePaymentMethod,\n  BraintreeLocalPaymentMethod,\n  BraintreePaypalPaymentMethod,\n  VisaCheckoutPaymentMethod,\n  BraintreeVenmoPaymentMethod,\n  CheckoutcomCustomPaymentMethod,\n  ClearpayPaymentMethod,\n  GooglePayPaymentMethod,\n  HostedCreditCardPaymentMethod,\n  HostedPaymentMethod,\n  KlarnaPaymentMethod,\n  KlarnaV2PaymentMethod,\n  MolliePaymentMethod,\n  MonerisPaymentMethod,\n  OfflinePaymentMethod,\n  PayPalCommerceAPMsPaymentMethod,\n  PayPalCommerceCreditPaymentMethod,\n  PayPalCommerceCreditCardsPaymentMethod,\n  PayPalCommerceFastlanePaymentMethod,\n  PayPalCommercePaymentMethod,\n  PayPalCommerceVenmoPaymentMethod,\n  PaypalCommerceRatePayPaymentMethod,\n  PaypalExpressPaymentMethod,\n  PayPalPaymentsProPaymentMethod,\n  PPSDKPaymentMethod,\n  SquareV2PaymentMethod,\n  StripeOCSPaymentMethod,\n  StripeUPEPaymentMethod,\n  StripeV3PaymentMethod,\n  WorldpayCreditCardPaymentMethod,\n};\n\nimport { PaymentMethodId } from '@bigcommerce/checkout/payment-integration-api';\n\nexport const ComponentRegistry = {\n  'AdyenV2PaymentMethod': [\n    { \"gateway\": \"adyenv2\" }\n  ],\n  'AdyenV3PaymentMethod': [\n    { \"gateway\": \"adyenv3\" }\n  ],\n  'AffirmPaymentMethod': [\n    { \"id\": \"affirm\" }\n  ],\n  'AmazonPayV2PaymentMethod': [\n    { \"id\": \"amazonpay\" }\n  ],\n  'ApplePayPaymentMethod': [\n    { \"id\": \"applepay\" }\n  ],\n  'BarclaycardPaymentMethod': [\n    { \"gateway\": \"barclaycard\" }\n  ],\n  'BigCommercePaymentsAPMsPaymentMethod': [\n    { \"gateway\": \"bigcommerce_payments_apms\" }\n  ],\n  'BigCommercePaymentsCreditCardsPaymentMethod': [\n    { \"id\": \"bigcommerce_payments_creditcards\" }\n  ],\n  'BigCommercePaymentsFastlanePaymentMethod': [\n    { \"id\": \"bigcommerce_payments_fastlane\" }\n  ],\n  'BigCommercePaymentsPayLaterPaymentMethod': [\n    { \"id\": \"bigcommerce_payments_paylater\" }\n  ],\n  'BigCommercePaymentsPaymentMethod': [\n    { \"id\": \"bigcommerce_payments\" }\n  ],\n  'BigCommercePaymentsRatePayPaymentMethod': [\n    { \"gateway\": \"bigcommerce_payments_apms\", \"id\": \"ratepay\" }\n  ],\n  'BigCommercePaymentsVenmoPaymentMethod': [\n    { \"id\": \"bigcommerce_payments_venmo\" }\n  ],\n  'BlueSnapDirectAlternativePaymentMethod': [\n    { \"gateway\": \"bluesnapdirect\" }\n  ],\n  'BlueSnapDirectEcpPaymentMethod': [\n    { \"id\": \"ecp\", \"gateway\": \"bluesnapdirect\" }\n  ],\n  'BlueSnapDirectIdealPaymentMethod': [\n    { \"id\": \"ideal\", \"gateway\": \"bluesnapdirect\" }\n  ],\n  'BlueSnapDirectPayByBankPaymentMethod': [\n    { \"id\": \"pay_by_bank\", \"gateway\": \"bluesnapdirect\" }\n  ],\n  'BlueSnapDirectSepaPaymentMethod': [\n    { \"id\": \"sepa_direct_debit\", \"gateway\": \"bluesnapdirect\" }\n  ],\n  'BlueSnapV2PaymentMethod': [\n    { \"gateway\": \"bluesnapv2\" }\n  ],\n  'BoltPaymentMethod': [\n    { \"id\": \"bolt\" }\n  ],\n  'BraintreeAchPaymentMethod': [\n    { \"id\": \"braintreeach\" }\n  ],\n  'BraintreeFastlanePaymentMethod': [\n    { \"id\": \"braintreeacceleratedcheckout\" }\n  ],\n  'BraintreeLocalPaymentMethod': [\n    { \"gateway\": \"braintreelocalmethods\" }\n  ],\n  'BraintreePaypalPaymentMethod': [\n    { \"id\": \"braintreepaypal\" }\n  ],\n  'BraintreeVenmoPaymentMethod': [\n    { \"id\": \"braintreevenmo\" }\n  ],\n  'CheckoutcomCustomPaymentMethod': [\n    { \"gateway\": \"checkoutcom\" }\n  ],\n  'ClearpayPaymentMethod': [\n    { \"gateway\": \"clearpay\" }\n  ],\n  'GooglePayPaymentMethod': [\n    { \"id\": PaymentMethodId.AdyenV2GooglePay },\n    { \"id\": PaymentMethodId.AdyenV3GooglePay },\n    { \"id\": PaymentMethodId.AuthorizeNetGooglePay },\n    { \"id\": PaymentMethodId.BNZGooglePay },\n    { \"id\": PaymentMethodId.BraintreeGooglePay },\n    { \"id\": PaymentMethodId.PayPalCommerceGooglePay },\n    { \"id\": PaymentMethodId.BigCommercePaymentsGooglePay },\n    { \"id\": PaymentMethodId.CheckoutcomGooglePay },\n    { \"id\": PaymentMethodId.CybersourceV2GooglePay },\n    { \"id\": PaymentMethodId.OrbitalGooglePay },\n    { \"id\": PaymentMethodId.StripeGooglePay },\n    { \"id\": PaymentMethodId.StripeUPEGooglePay },\n    { \"id\": PaymentMethodId.WorldpayAccessGooglePay },\n    { \"id\": PaymentMethodId.TdOnlineMartGooglePay },\n    { \"id\": PaymentMethodId.StripeOCSGooglePay }\n  ],\n  'HostedCreditCardPaymentMethod': [\n    { \"id\": \"hosted-credit-card\" },\n    { \"id\": \"credit_card\", \"gateway\": \"bluesnapdirect\" },\n    { \"id\": \"credit_card\", \"gateway\": \"checkoutcom\" },\n    { \"id\": \"tdonlinemart\" }\n  ],\n  'HostedPaymentMethod': [\n    { \"gateway\": \"afterpay\" },\n    { \"id\": \"quadpay\" },\n    { \"id\": \"sezzle\" },\n    { \"id\": \"zip\" }\n  ],\n  'KlarnaPaymentMethod': [\n    { \"id\": \"klarna\" }\n  ],\n  'KlarnaV2PaymentMethod': [\n    { \"gateway\": \"klarna\" }\n  ],\n  'MolliePaymentMethod': [\n    { \"gateway\": \"mollie\" },\n    { \"gateway\": \"mollie\", \"id\": \"applepay\" }\n  ],\n  'MonerisPaymentMethod': [\n    { \"id\": \"moneris\" }\n  ],\n  'OfflinePaymentMethod': [\n    { \"type\": \"PAYMENT_TYPE_OFFLINE\" }\n  ],\n  'PayPalCommerceAPMsPaymentMethod': [\n    { \"gateway\": \"paypalcommercealternativemethods\" }\n  ],\n  'PayPalCommerceCreditCardsPaymentMethod': [\n    { \"id\": \"paypalcommercecreditcards\" }\n  ],\n  'PayPalCommerceCreditPaymentMethod': [\n    { \"id\": \"paypalcommercecredit\" }\n  ],\n  'PayPalCommerceFastlanePaymentMethod': [\n    { \"id\": \"paypalcommerceacceleratedcheckout\" }\n  ],\n  'PayPalCommercePaymentMethod': [\n    { \"id\": \"paypalcommerce\" }\n  ],\n  'PaypalCommerceRatePayPaymentMethod': [\n    { \"gateway\": \"paypalcommercealternativemethods\", \"id\": \"ratepay\" }\n  ],\n  'PayPalCommerceVenmoPaymentMethod': [\n    { \"id\": \"paypalcommercevenmo\" }\n  ],\n  'PaypalExpressPaymentMethod': [\n    { \"id\": \"paypalexpress\" }\n  ],\n  'PayPalPaymentsProPaymentMethod': [\n    { \"id\": \"paypal\" }\n  ],\n  'PPSDKPaymentMethod': [\n    { \"type\": \"PAYMENT_TYPE_SDK\" }\n  ],\n  'SquareV2PaymentMethod': [\n    { \"id\": \"squarev2\" }\n  ],\n  'StripeOCSPaymentMethod': [\n    { \"gateway\": \"stripeocs\", \"id\": \"optimized_checkout\" }\n  ],\n  'StripeUPEPaymentMethod': [\n    { \"gateway\": \"stripeupe\" },\n    { \"gateway\": \"stripeupe\", \"id\": \"klarna\" }\n  ],\n  'StripeV3PaymentMethod': [\n    { \"gateway\": \"stripev3\" }\n  ],\n  'VisaCheckoutPaymentMethod': [\n    { \"id\": PaymentMethodId.BraintreeVisaCheckout }\n  ],\n  'WorldpayCreditCardPaymentMethod': [\n    { \"id\": \"worldpayaccess\" }\n  ]\n} as const;\n\n    \n","enum PaymentMethodProviderType {\n    Api = 'PAYMENT_TYPE_API',\n    Hosted = 'PAYMENT_TYPE_HOSTED',\n    Offline = 'PAYMENT_TYPE_OFFLINE',\n    PPSDK = 'PAYMENT_TYPE_SDK',\n}\n\nexport default PaymentMethodProviderType;\n","import {\n    type CheckoutSelectors,\n    type CustomerInitializeOptions,\n    type CustomerRequestOptions,\n    type PaymentInitializeOptions,\n    type PaymentMethod,\n    type PaymentRequestOptions,\n} from '@bigcommerce/checkout-sdk';\nimport React, { type FunctionComponent, lazy, memo, Suspense } from 'react';\n\nimport { type CheckoutContextProps } from '@bigcommerce/checkout/payment-integration-api';\n\nimport { withCheckout } from '../../checkout';\n\nconst BraintreeCreditCardPaymentMethod = lazy(() => import(/* webpackChunkName: \"braintree-credit-card-payment-method\" */'./BraintreeCreditCardPaymentMethod'));\nconst HostedCreditCardPaymentMethod = lazy(() => import(/* webpackChunkName: \"hosted-credit-card-payment-method\" */'./HostedCreditCardPaymentMethod'));\nconst HostedPaymentMethod = lazy(() => import(/* webpackChunkName: \"hosted-payment-method\" */'./HostedPaymentMethod'));\n\nimport PaymentMethodId from './PaymentMethodId';\nimport PaymentMethodProviderType from './PaymentMethodProviderType';\nimport PaymentMethodType from './PaymentMethodType';\n\nexport interface PaymentMethodProps {\n    method: PaymentMethod;\n    isEmbedded?: boolean;\n    isUsingMultiShipping?: boolean;\n    onUnhandledError?(error: Error): void;\n    submitForm?(): void;\n}\n\nexport interface WithCheckoutPaymentMethodProps {\n    isInitializing: boolean;\n    deinitializeCustomer(options: CustomerRequestOptions): Promise<CheckoutSelectors>;\n    deinitializePayment(options: PaymentRequestOptions): Promise<CheckoutSelectors>;\n    initializeCustomer(options: CustomerInitializeOptions): Promise<CheckoutSelectors>;\n    initializePayment(options: PaymentInitializeOptions): Promise<CheckoutSelectors>;\n}\n\n/**\n * If possible, try to avoid having components that are specific to a specific\n * payment provider or method. Instead, try to generalise the requirements and\n * use components that can are reusable for multiple payment methods. i.e.:\n * CreditCardPaymentMethod, HostedPaymentMethod etc... If it is really necessary\n * for a particular payment method, you may write a method-specific component for\n * the purpose of configuring a general-purpose component in order to fulfill\n * its specific product or technical requirements.\n */\nconst PaymentMethodComponent: FunctionComponent<\n    PaymentMethodProps & WithCheckoutPaymentMethodProps\n> = (props) => {\n    const { method } = props;\n\n    if (method.id === PaymentMethodId.Braintree) {\n        return <Suspense><BraintreeCreditCardPaymentMethod {...props} /></Suspense>;\n    }\n\n    if (\n        method.id === PaymentMethodId.Humm ||\n        method.id === PaymentMethodId.Laybuy ||\n        method.method === PaymentMethodType.Paypal ||\n        method.method === PaymentMethodType.PaypalCredit ||\n        method.type === PaymentMethodProviderType.Hosted\n    ) {\n        return <Suspense><HostedPaymentMethod {...props} /></Suspense>;\n    }\n\n    // NOTE: Some payment methods have `method` as `credit-card` but they are\n    // actually not. Therefore, as a workaround, we are doing the following\n    // check last.\n    if (\n        method.method === PaymentMethodType.CreditCard ||\n        method.type === PaymentMethodProviderType.Api\n    ) {\n        return <Suspense><HostedCreditCardPaymentMethod {...props} /></Suspense>;\n    }\n\n    return null;\n};\n\nfunction mapToWithCheckoutPaymentMethodProps(\n    { checkoutService, checkoutState }: CheckoutContextProps,\n    { method }: PaymentMethodProps,\n): WithCheckoutPaymentMethodProps {\n    const {\n        statuses: { isInitializingPayment },\n    } = checkoutState;\n\n    return {\n        deinitializeCustomer: checkoutService.deinitializeCustomer,\n        deinitializePayment: checkoutService.deinitializePayment,\n        initializeCustomer: checkoutService.initializeCustomer,\n        initializePayment: checkoutService.initializePayment,\n        isInitializing: isInitializingPayment(method.id),\n    };\n}\n\nexport default withCheckout(mapToWithCheckoutPaymentMethodProps)(memo(PaymentMethodComponent));\n","import { type PaymentMethod } from '@bigcommerce/checkout-sdk';\nimport React, { type ComponentType, Suspense } from 'react';\n\nimport { withLanguage, type WithLanguageProps } from '@bigcommerce/checkout/locale';\nimport { PaymentFormProvider, type PaymentFormValues } from '@bigcommerce/checkout/payment-integration-api';\n\nimport { withCheckout, type WithCheckoutProps } from '../../checkout';\nimport { connectFormik, type WithFormikProps } from '../../common/form';\nimport { withForm, type WithFormProps } from '../../ui/form';\nimport createPaymentFormService from '../createPaymentFormService';\nimport resolvePaymentMethod from '../resolvePaymentMethod';\nimport withPayment, { type WithPaymentProps } from '../withPayment';\n\nimport { default as PaymentMethodV1 } from './PaymentMethod';\n\nexport interface PaymentMethodProps {\n    method: PaymentMethod;\n    isEmbedded?: boolean;\n    isUsingMultiShipping?: boolean;\n    onUnhandledError(error: Error): void;\n}\n\nconst PaymentMethodContainer: ComponentType<\n    PaymentMethodProps &\n        WithCheckoutProps &\n        WithLanguageProps &\n        WithPaymentProps &\n        WithFormProps &\n        WithFormikProps<PaymentFormValues>\n> = ({\n    formik: formikContext,\n    checkoutService,\n    checkoutState,\n    disableSubmit,\n    hidePaymentSubmitButton,\n    isEmbedded,\n    isSubmitted,\n    isUsingMultiShipping,\n    language,\n    method,\n    onUnhandledError,\n    setSubmit,\n    setSubmitted,\n    setValidationSchema,\n}) => {\n    const formContext = {\n        isSubmitted,\n        setSubmitted,\n    };\n\n    const paymentContext = {\n        disableSubmit,\n        hidePaymentSubmitButton,\n        setSubmit,\n        setValidationSchema,\n    };\n\n    const ResolvedPaymentMethod = resolvePaymentMethod(\n        {\n            id: method.id,\n            gateway: method.gateway,\n            type: method.type,\n        },\n    );\n\n    if (!ResolvedPaymentMethod) {\n        return (\n            <PaymentMethodV1\n                isEmbedded={isEmbedded}\n                isUsingMultiShipping={isUsingMultiShipping}\n                method={method}\n                onUnhandledError={onUnhandledError}\n            />\n        );\n    }\n\n    const paymentForm = createPaymentFormService(formikContext, formContext, paymentContext);\n\n    return (\n        <PaymentFormProvider paymentForm={paymentForm}>\n            <Suspense>\n                <ResolvedPaymentMethod\n                    checkoutService={checkoutService}\n                    checkoutState={checkoutState}\n                    language={language}\n                    method={method}\n                    onUnhandledError={onUnhandledError}\n                    paymentForm={paymentForm}\n                />\n            </Suspense>\n        </PaymentFormProvider>\n    );\n};\n\nexport default withCheckout((props) => props)(\n    withLanguage(withPayment(withForm(connectFormik(PaymentMethodContainer)))),\n) as ComponentType<PaymentMethodProps>;\n","import { type ComponentType } from 'react';\n\nimport {\n    type PaymentMethodProps,\n    type PaymentMethodResolveId,\n} from '@bigcommerce/checkout/payment-integration-api';\n\nimport { resolveLazyComponent } from '../common/resolver';\nimport * as lazyPaymentMethods from '../generated/paymentIntegrations';\n\nexport default function resolvePaymentMethod(\n    query: PaymentMethodResolveId\n): ComponentType<PaymentMethodProps> | undefined {\n    const { ComponentRegistry, ...components } = lazyPaymentMethods;\n\n    return resolveLazyComponent<PaymentMethodResolveId, PaymentMethodProps>(\n        query, \n        components, \n        ComponentRegistry,\n    );\n}\n","import { type FormikContextType } from 'formik';\n\nimport {\n    type PaymentFormService,\n    type PaymentFormValues,\n} from '@bigcommerce/checkout/payment-integration-api';\nimport { type FormContextType } from '@bigcommerce/checkout/ui';\n\nimport { type PaymentContextProps } from './PaymentContext';\n\nexport default function createPaymentFormService(\n    formikContext: FormikContextType<PaymentFormValues>,\n    formContext: FormContextType,\n    paymentContext: PaymentContextProps,\n): PaymentFormService {\n    const {\n        setFieldTouched,\n        setFieldValue,\n        submitForm,\n        validateForm,\n        values,\n    } = formikContext;\n\n    const { isSubmitted, setSubmitted } = formContext;\n\n    const { disableSubmit, setSubmit, setValidationSchema, hidePaymentSubmitButton } =\n        paymentContext;\n\n    const getFieldValue = <T>(key: string): T | unknown => values[key];\n\n    return {\n        disableSubmit,\n        getFieldValue,\n        getFormValues: () => values,\n        hidePaymentSubmitButton,\n        isSubmitted: () => isSubmitted,\n        setFieldTouched: setFieldTouched as PaymentFormService['setFieldTouched'],\n        setFieldValue: setFieldValue as PaymentFormService['setFieldValue'],\n        setSubmit,\n        setSubmitted,\n        setValidationSchema,\n        submitForm,\n        validateForm,\n    };\n}\n","import { type PaymentMethod } from '@bigcommerce/checkout-sdk';\nimport { find, get, noop } from 'lodash';\nimport React, { type FunctionComponent, memo, useCallback, useMemo } from 'react';\n\nimport { useLocale } from '@bigcommerce/checkout/locale';\nimport { useCheckout } from '@bigcommerce/checkout/payment-integration-api';\n\nimport { connectFormik, type ConnectFormikProps } from '../../common/form';\nimport { isMobile } from '../../common/utility';\nimport { Checklist, ChecklistItem, CustomChecklistItem } from '../../ui/form';\n\nimport getPaymentMethodName from './getPaymentMethodName';\nimport getUniquePaymentMethodId, { parseUniquePaymentMethodId } from './getUniquePaymentMethodId';\nimport PaymentMethodTitle, { getPaymentMethodTitle } from './PaymentMethodTitle';\nimport PaymentMethodV2 from './PaymentMethodV2';\n\nexport interface PaymentMethodListProps {\n    isEmbedded?: boolean;\n    isInitializingPayment?: boolean;\n    isUsingMultiShipping?: boolean;\n    methods: PaymentMethod[];\n    onSelect?(method: PaymentMethod): void;\n    onUnhandledError?(error: Error): void;\n}\n\nfunction getPaymentMethodFromListValue(methods: PaymentMethod[], value: string): PaymentMethod {\n    const { gatewayId: gateway, methodId: id } = parseUniquePaymentMethodId(value);\n    const method = gateway ? find(methods, { gateway, id }) : find(methods, { id });\n\n    if (!method) {\n        throw new Error(`Unable to find payment method with id: ${id}`);\n    }\n\n    return method;\n}\n\nconst PaymentMethodList: FunctionComponent<\n    PaymentMethodListProps & ConnectFormikProps<{ paymentProviderRadio?: string }>\n> = ({\n    formik: { values },\n    isEmbedded,\n    isInitializingPayment,\n    isUsingMultiShipping,\n    methods,\n    onSelect = noop,\n    onUnhandledError,\n}) => {\n    const { language } = useLocale();\n    const {\n        checkoutState: {\n            data: { getConfig }\n        }\n    } = useCheckout();\n\n    const config = getConfig();\n\n    const titleText = useMemo(() => {\n        if (config && values.paymentProviderRadio) {\n            const checkoutSettings = config.checkoutSettings;\n            const cdnBasePath = config.cdnPath;\n            const storeCountryCode = config.storeProfile.storeCountryCode;\n            const paymentMethod = getPaymentMethodFromListValue(methods, values.paymentProviderRadio);\n            const methodName = getPaymentMethodName(language)(paymentMethod);\n            const { titleText } = getPaymentMethodTitle(language, cdnBasePath, checkoutSettings, storeCountryCode)(paymentMethod);\n\n            return titleText || methodName;\n        }\n\n        return '';\n    }, [config, values.paymentProviderRadio])\n\n    const handleSelect = useCallback(\n        (value: string) => {\n            onSelect(getPaymentMethodFromListValue(methods, value));\n        },\n        [methods, onSelect],\n    );\n\n    return (\n        <>\n            <div aria-live=\"assertive\" className='is-srOnly' role=\"status\">{titleText}</div>\n            <Checklist\n                defaultSelectedItemId={values.paymentProviderRadio}\n                isDisabled={isInitializingPayment}\n                name=\"paymentProviderRadio\"\n                onSelect={handleSelect}\n            >\n                {methods.map((method) => {\n                    const value = getUniquePaymentMethodId(method.id, method.gateway);\n                    const showOnlyOnMobileDevices = get(\n                        method,\n                        'initializationData.showOnlyOnMobileDevices',\n                        false,\n                    );\n\n                    if (showOnlyOnMobileDevices && !isMobile()) {\n                        return;\n                    }\n\n                    return (\n                        <PaymentMethodListItem\n                            isDisabled={isInitializingPayment}\n                            isEmbedded={isEmbedded}\n                            isUsingMultiShipping={isUsingMultiShipping}\n                            key={value}\n                            method={method}\n                            onUnhandledError={onUnhandledError}\n                            value={value}\n                        />\n                    );\n                })}\n            </Checklist>\n        </>\n    );\n};\n\ninterface PaymentMethodListItemProps {\n    isDisabled?: boolean;\n    isEmbedded?: boolean;\n    isUsingMultiShipping?: boolean;\n    method: PaymentMethod;\n    value: string;\n    onUnhandledError?(error: Error): void;\n}\n\nconst PaymentMethodListItem: FunctionComponent<PaymentMethodListItemProps> = ({\n    isDisabled,\n    isEmbedded,\n    isUsingMultiShipping,\n    method,\n    onUnhandledError,\n    value,\n}) => {\n    const renderPaymentMethod = useMemo(() => {\n        return (\n            <PaymentMethodV2\n                isEmbedded={isEmbedded}\n                isUsingMultiShipping={isUsingMultiShipping}\n                method={method}\n                onUnhandledError={onUnhandledError || noop}\n            />\n        );\n    }, [isEmbedded, isUsingMultiShipping, method, onUnhandledError]);\n\n    const renderPaymentMethodTitle = useCallback(\n        (isSelected: boolean) => <PaymentMethodTitle isSelected={isSelected} method={method} onUnhandledError={onUnhandledError} />,\n        [method],\n    );\n\n    if (method.initializationData?.isCustomChecklistItem) {\n        return (\n            <CustomChecklistItem\n                content={renderPaymentMethod}\n                htmlId={`radio-${value}`}\n            />\n        );\n    }\n\n    return (\n        <ChecklistItem\n            content={renderPaymentMethod}\n            htmlId={`radio-${value}`}\n            isDisabled={isDisabled}\n            label={renderPaymentMethodTitle}\n            value={value}\n        />\n    );\n};\n\nexport default connectFormik(memo(PaymentMethodList));\n","export default function isMobile(): boolean {\n    return /Android|iPhone|iPad|iPod/i.test(window.navigator.userAgent);\n}\n","import React, { type FunctionComponent, memo } from 'react';\n\nimport { TranslatedString } from '@bigcommerce/checkout/locale';\n\nimport { mapToRedeemableProps, Redeemable, type RedeemableProps } from '../cart';\nimport { withCheckout } from '../checkout';\nimport { Fieldset, Legend } from '../ui/form';\n\nconst PaymentRedeemables: FunctionComponent<RedeemableProps> = (redeemableProps) => (\n    <Fieldset \n        additionalClassName=\"redeemable-payments\"\n        legend={\n            <Legend hidden>\n                <TranslatedString id=\"payment.redeemable_payments_text\" />\n            </Legend>\n        }\n    >\n        <Redeemable {...redeemableProps} showAppliedRedeemables={true} />\n    </Fieldset>\n);\n\nexport default withCheckout(mapToRedeemableProps)(memo(PaymentRedeemables));\n","import React, { type FunctionComponent, memo } from 'react';\n\nimport { TranslatedString } from '@bigcommerce/checkout/locale';\n\nimport { withCheckout } from '../checkout';\nimport { Button, ButtonSize, ButtonVariant } from '../ui/button';\nimport { IconBolt } from '../ui/icon';\n\nimport { PaymentMethodId, PaymentMethodType } from './paymentMethod';\n\ninterface PaymentSubmitButtonTextProps {\n    methodGateway?: string;\n    methodId?: string;\n    methodType?: string;\n    methodName?: string;\n    initialisationStrategyType?: string;\n    brandName?: string;\n    isComplete?: boolean;\n    isPaymentDataRequired?: boolean;\n}\n\nconst providersWithCustomClasses = [PaymentMethodId.Bolt];\n\nconst PaymentSubmitButtonText: FunctionComponent<PaymentSubmitButtonTextProps> = memo(\n    ({\n        methodId,\n        methodName,\n        methodType,\n        methodGateway,\n        initialisationStrategyType,\n        brandName,\n        isComplete,\n        isPaymentDataRequired,\n    }) => {\n        if (!isPaymentDataRequired) {\n            return <TranslatedString id=\"payment.place_order_action\" />;\n        }\n\n        if (methodName && initialisationStrategyType === 'none') {\n            return <TranslatedString data={{ methodName }} id=\"payment.ppsdk_continue_action\" />;\n        }\n\n        if (methodId === PaymentMethodId.AmazonPay) {\n            return <TranslatedString id=\"payment.amazonpay_continue_action\" />;\n        }\n\n        if (methodId === PaymentMethodId.Bolt) {\n            return (\n                <>\n                    <IconBolt additionalClassName=\"payment-submit-button-bolt-icon\" />\n                    <TranslatedString id=\"payment.place_order_action\" />\n                </>\n            );\n        }\n\n        if (methodGateway === PaymentMethodId.Barclaycard) {\n            return <TranslatedString id=\"payment.barclaycard_continue_action\" />;\n        }\n\n        if (methodGateway === PaymentMethodId.BlueSnapV2) {\n            return <TranslatedString id=\"payment.bluesnap_v2_continue_action\" />;\n        }\n\n        if (methodType === PaymentMethodType.VisaCheckout) {\n            return <TranslatedString id=\"payment.visa_checkout_continue_action\" />;\n        }\n\n        if (\n            methodType === PaymentMethodType.PaypalVenmo ||\n            methodId === PaymentMethodId.BraintreeVenmo\n        ) {\n            return <TranslatedString id=\"payment.paypal_venmo_continue_action\" />;\n        }\n\n        if (methodType === PaymentMethodType.Paypal) {\n            const continueActionId = methodId === PaymentMethodId.PaypalCommerce\n                ? 'payment.place_order_action'\n                : 'payment.paypal_continue_action';\n\n            return <TranslatedString\n                data={{ isComplete }}\n                id={isComplete ? 'payment.paypal_complete_action' : continueActionId}\n            />;\n        }\n\n        if (methodType === PaymentMethodType.PaypalCredit) {\n            const continueTranslationId = brandName\n                ? 'payment.continue_with_brand'\n                : 'payment.paypal_pay_later_continue_action'\n            const completeTranslationId = brandName\n                ? 'payment.complete_with_brand'\n                : 'payment.paypal_pay_later_complete_action'\n\n            return (\n                <TranslatedString\n                    data={{ brandName, isComplete, continueTranslationId, completeTranslationId }}\n                    id={\n                        isComplete\n                            ? completeTranslationId\n                            : continueTranslationId\n                    }\n                />\n            );\n        }\n\n        if (methodId === PaymentMethodId.Quadpay) {\n            return <TranslatedString id=\"payment.quadpay_continue_action\" />;\n        }\n\n        if (methodId === PaymentMethodId.Zip) {\n            return <TranslatedString id=\"payment.zip_continue_action\" />;\n        }\n\n        if (methodId === PaymentMethodId.Klarna) {\n            return <TranslatedString id=\"payment.klarna_continue_action\" />;\n        }\n\n        return <TranslatedString id=\"payment.place_order_action\" />;\n    },\n);\n\nexport interface PaymentSubmitButtonProps {\n    methodGateway?: string;\n    methodId?: string;\n    methodName?: string;\n    methodType?: string;\n    isDisabled?: boolean;\n    initialisationStrategyType?: string;\n    brandName?: string;\n    isComplete?: boolean;\n    isPaymentDataRequired?: boolean;\n}\n\ninterface WithCheckoutPaymentSubmitButtonProps {\n    isInitializing?: boolean;\n    isSubmitting?: boolean;\n}\n\nconst PaymentSubmitButton: FunctionComponent<\n    PaymentSubmitButtonProps & WithCheckoutPaymentSubmitButtonProps\n> = ({\n    isDisabled,\n    isInitializing,\n    isSubmitting,\n    isPaymentDataRequired,\n    methodGateway,\n    methodId,\n    methodName,\n    methodType,\n    initialisationStrategyType,\n    brandName,\n    isComplete,\n}) => (\n    <Button\n        className={\n            providersWithCustomClasses.includes(methodId as PaymentMethodId)\n                ? `payment-submit-button-${methodId}`\n                : undefined\n        }\n        data-test=\"payment-submit-button\"\n        disabled={isInitializing || isSubmitting || isDisabled}\n        id=\"checkout-payment-continue\"\n        isFullWidth\n        isLoading={isSubmitting}\n        size={ButtonSize.Large}\n        type=\"submit\"\n        variant={ButtonVariant.Action}\n    >\n        <PaymentSubmitButtonText\n            brandName={brandName}\n            initialisationStrategyType={initialisationStrategyType}\n            isComplete={isComplete}\n            isPaymentDataRequired={isPaymentDataRequired}\n            methodGateway={methodGateway}\n            methodId={methodId}\n            methodName={methodName}\n            methodType={methodType}\n        />\n    </Button>\n);\n\nexport default withCheckout(({ checkoutState }) => {\n    const {\n        data: { isPaymentDataRequired },\n        statuses: { isInitializingCustomer, isInitializingPayment, isSubmittingOrder },\n    } = checkoutState;\n\n    return {\n        isInitializing: isInitializingCustomer() || isInitializingPayment(),\n        isPaymentDataRequired: isPaymentDataRequired(),\n        isSubmitting: isSubmittingOrder(),\n    };\n})(memo(PaymentSubmitButton));\n","import React, { type MouseEvent, useEffect, useState } from 'react';\n\nimport { TranslatedString } from '@bigcommerce/checkout/locale';\nimport { useCheckout } from '@bigcommerce/checkout/payment-integration-api';\nimport { LoadingOverlay } from '@bigcommerce/checkout/ui';\n\nimport { isErrorWithType } from '../common/error';\n\n\ninterface SpamProtectionFieldProps {\n    didExceedSpamLimit?: boolean;\n    onUnhandledError?(error: Error): void;\n}\n\nconst SpamProtectionField = ({\n    didExceedSpamLimit,\n    onUnhandledError\n}: SpamProtectionFieldProps): JSX.Element => {\n    const [shouldShowRetryButton, setShouldShowRetryButton] = useState(false);\n\n    const {\n        checkoutService: { executeSpamCheck },\n        checkoutState: { statuses }\n    } = useCheckout();\n\n    const isExecutingSpamCheck = statuses.isExecutingSpamCheck();\n\n    const verify: () => void = async () => {\n        try {\n            await executeSpamCheck();\n        } catch (error) {\n            setShouldShowRetryButton(true);\n\n            // Notify the parent component if the user experiences a problem other than cancelling the reCaptcha challenge.\n            if (isErrorWithType(error) && error.type !== 'spam_protection_challenge_not_completed' && onUnhandledError) {\n                onUnhandledError(error);\n            }\n        }\n    };\n\n    useEffect(() => {\n        if (didExceedSpamLimit) {\n            return;\n        }\n\n        verify();\n    }, []);\n\n    const handleRetry = (event: MouseEvent) => {\n        event.preventDefault();\n\n        verify();\n    };\n\n    return (\n        <div className=\"spamProtection-container\">\n            <LoadingOverlay isLoading={isExecutingSpamCheck}>\n                {(didExceedSpamLimit || shouldShowRetryButton) && (\n                    <div className=\"spamProtection-panel optimizedCheckout-overlay\">\n                        <a\n                            className=\"spamProtection-panel-message optimizedCheckout-primaryContent\"\n                            data-test=\"spam-protection-verify-button\"\n                            onClick={handleRetry}\n                        >\n                            <TranslatedString id=\"spam_protection.verify_action\" />\n                        </a>\n                    </div>\n                )}\n            </LoadingOverlay >\n        </div >\n    );\n};\n\nexport default SpamProtectionField;\n","import { noop } from 'lodash';\nimport React, { type FunctionComponent, useCallback, useMemo } from 'react';\n\nimport { preventDefault } from '@bigcommerce/checkout/dom-utils';\nimport { TranslatedString, withCurrency, type WithCurrencyProps } from '@bigcommerce/checkout/locale';\nimport { useCheckout } from '@bigcommerce/checkout/payment-integration-api';\n\nimport { CheckboxInput } from '../../ui/form';\nimport { Tooltip, TooltipTrigger } from '../../ui/tooltip';\n\nexport interface StoreCreditFieldProps {\n    availableStoreCredit: number;\n    name: string;\n    usableStoreCredit: number;\n    isStoreCreditApplied: boolean;\n    onChange?(value: boolean): void;\n}\n\nconst StoreCreditField: FunctionComponent<StoreCreditFieldProps & WithCurrencyProps> = ({\n    availableStoreCredit,\n    currency,\n    name,\n    onChange = noop,\n    usableStoreCredit,\n    isStoreCreditApplied,\n}) => {\n    const {\n        checkoutState: {\n            statuses: { isSubmittingOrder }\n        }\n    } = useCheckout();\n\n    const handleChange = useCallback((event: any) => onChange(event.target.checked), [onChange]);\n    const labelContent = useMemo(\n        () => (\n            <>\n                <TranslatedString id=\"redeemable.apply_store_credit_before_action\" />{' '}\n                <TooltipTrigger\n                    placement=\"top-start\"\n                    tooltip={\n                        <Tooltip testId=\"payment-store-credit-tooltip\">\n                            <TranslatedString\n                                data={{\n                                    storeCredit: currency.toCustomerCurrency(availableStoreCredit),\n                                }}\n                                id=\"redeemable.store_credit_available_text\"\n                            />\n                        </Tooltip>\n                    }\n                >\n                    <a href=\"#\" onClick={preventDefault()}>\n                        {currency.toCustomerCurrency(usableStoreCredit)}\n                    </a>\n                </TooltipTrigger>{' '}\n                <TranslatedString id=\"redeemable.apply_store_credit_after_action\" />\n            </>\n        ),\n        [availableStoreCredit, currency, usableStoreCredit],\n    );\n\n    return (\n        <CheckboxInput\n            checked={isStoreCreditApplied}\n            disabled={isSubmittingOrder()}\n            id={name}\n            label={labelContent}\n            name={name}\n            onChange={handleChange}\n            value={name}\n        />\n    );\n};\n\nexport default withCurrency(StoreCreditField);\n","import React, { type FunctionComponent } from 'react';\n\nimport { TranslatedString } from '@bigcommerce/checkout/locale';\n\nconst StoreCreditOverlay: FunctionComponent = () => (\n    <div className=\"storeCreditOverlay\" data-test=\"payment-store-credit-overlay\">\n        <p className=\"storeCreditOverlay-text\">\n            <TranslatedString id=\"payment.payment_not_required_text\" />\n        </p>\n    </div>\n);\n\nexport default StoreCreditOverlay;\n","import React, { type FunctionComponent, memo, useMemo } from 'react';\nimport { CustomCheckoutWindow, ManageShippingMethods } from '../auto-loader';\nimport { TranslatedHtml } from '@bigcommerce/checkout/locale';\nimport { Fieldset } from '@bigcommerce/checkout/ui';\n\nconst WithdrawalTermsNotice: FunctionComponent = () => {\n  const customCheckoutWindow: CustomCheckoutWindow = window as unknown as CustomCheckoutWindow;\n  const checkoutSettings: ManageShippingMethods | undefined =\n    customCheckoutWindow?.checkoutConfig?.manageShippingMethods;\n\n  const url = checkoutSettings?.withdrawalTermsUrl;\n  const withdrawalTerms = useMemo(\n    () =>\n      url ? (\n        <Fieldset additionalClassName=\"withdrawal-terms\">\n          <p>\n            <TranslatedHtml data={{ url }} id=\"withdrawal_terms.notice_with_link_text\" />{' '}\n          </p>\n        </Fieldset>\n      ) : null,\n    [url],\n  );\n\n  return withdrawalTerms;\n};\n\nexport default memo(WithdrawalTermsNotice);\n","import { ExtensionRegion, type PaymentMethod } from '@bigcommerce/checkout-sdk';\nimport { type FormikProps, type FormikState, withFormik, type WithFormikConfig } from 'formik';\nimport { isNil, noop, omitBy } from 'lodash';\nimport React, { type FunctionComponent, memo, useCallback, useContext, useMemo } from 'react';\nimport { type ObjectSchema } from 'yup';\n\nimport { Extension } from '@bigcommerce/checkout/checkout-extension';\nimport {\n  TranslatedString,\n  withLanguage,\n  type WithLanguageProps,\n} from '@bigcommerce/checkout/locale';\nimport { type PaymentFormValues } from '@bigcommerce/checkout/payment-integration-api';\nimport { FormContext } from '@bigcommerce/checkout/ui';\n\nimport { TermsConditions } from '../termsConditions';\nimport { Fieldset, Form, Legend } from '../ui/form';\n\nimport getPaymentValidationSchema from './getPaymentValidationSchema';\nimport {\n  getPaymentMethodName,\n  getUniquePaymentMethodId,\n  PaymentMethodId,\n  PaymentMethodList,\n} from './paymentMethod';\nimport PaymentRedeemables from './PaymentRedeemables';\nimport PaymentSubmitButton from './PaymentSubmitButton';\nimport SpamProtectionField from './SpamProtectionField';\nimport { StoreCreditField, StoreCreditOverlay } from './storeCredit';\nimport WithdrawalTermsNotice from '../eoc/WithdrawalTermsNotice';\n\nexport interface PaymentFormProps {\n  availableStoreCredit?: number;\n  defaultGatewayId?: string;\n  defaultMethodId: string;\n  didExceedSpamLimit?: boolean;\n  isEmbedded?: boolean;\n  isInitializingPayment?: boolean;\n  isTermsConditionsRequired?: boolean;\n  isUsingMultiShipping?: boolean;\n  isStoreCreditApplied: boolean;\n  methods: PaymentMethod[];\n  selectedMethod?: PaymentMethod;\n  shouldShowStoreCredit?: boolean;\n  shouldDisableSubmit?: boolean;\n  shouldHidePaymentSubmitButton?: boolean;\n  shouldExecuteSpamCheck?: boolean;\n  termsConditionsText?: string;\n  termsConditionsUrl?: string;\n  usableStoreCredit?: number;\n  validationSchema?: ObjectSchema<Partial<PaymentFormValues>>;\n  isPaymentDataRequired(): boolean;\n  onMethodSelect?(method: PaymentMethod): void;\n  onStoreCreditChange?(useStoreCredit?: boolean): void;\n  onSubmit?(values: PaymentFormValues): void;\n  onUnhandledError?(error: Error): void;\n}\n\nconst PaymentForm: FunctionComponent<\n  PaymentFormProps & FormikProps<PaymentFormValues> & WithLanguageProps\n> = ({\n  availableStoreCredit = 0,\n  didExceedSpamLimit,\n  isEmbedded,\n  isInitializingPayment,\n  isPaymentDataRequired,\n  isTermsConditionsRequired,\n  isStoreCreditApplied,\n  isUsingMultiShipping,\n  language,\n  methods,\n  onMethodSelect,\n  onStoreCreditChange,\n  onUnhandledError,\n  resetForm,\n  selectedMethod,\n  shouldDisableSubmit,\n  shouldHidePaymentSubmitButton,\n  shouldExecuteSpamCheck,\n  termsConditionsText = '',\n  termsConditionsUrl,\n  usableStoreCredit = 0,\n  values,\n}) => {\n  const selectedMethodId = useMemo(() => {\n    if (!selectedMethod) {\n      return;\n    }\n\n    switch (selectedMethod.id) {\n      case PaymentMethodId.AmazonPay:\n        if (selectedMethod.initializationData.paymentToken) {\n          return;\n        }\n\n        return selectedMethod.id;\n\n      default:\n        return selectedMethod.id;\n    }\n  }, [selectedMethod]);\n\n  const brandName = useMemo(() => {\n    if (!selectedMethod) {\n      return;\n    }\n\n    return (\n      selectedMethod.initializationData?.payPalCreditProductBrandName?.credit ||\n      selectedMethod.initializationData?.payPalCreditProductBrandName\n    );\n  }, [selectedMethod]);\n\n  if (shouldExecuteSpamCheck) {\n    return (\n      <SpamProtectionField\n        didExceedSpamLimit={didExceedSpamLimit}\n        onUnhandledError={onUnhandledError}\n      />\n    );\n  }\n\n  return (\n    <Form className=\"checkout-form\" testId=\"payment-form\">\n      {usableStoreCredit > 0 && (\n        <StoreCreditField\n          availableStoreCredit={availableStoreCredit}\n          isStoreCreditApplied={isStoreCreditApplied}\n          name=\"useStoreCredit\"\n          onChange={onStoreCreditChange}\n          usableStoreCredit={usableStoreCredit}\n        />\n      )}\n      <PaymentMethodListFieldset\n        isEmbedded={isEmbedded}\n        isInitializingPayment={isInitializingPayment}\n        isPaymentDataRequired={isPaymentDataRequired}\n        isUsingMultiShipping={isUsingMultiShipping}\n        methods={methods}\n        onMethodSelect={onMethodSelect}\n        onUnhandledError={onUnhandledError}\n        resetForm={resetForm}\n        values={values}\n      />\n      <PaymentRedeemables />\n      {isTermsConditionsRequired && (\n        <TermsConditions\n          termsConditionsText={termsConditionsText}\n          termsConditionsUrl={termsConditionsUrl}\n        />\n      )}\n      <WithdrawalTermsNotice />\n      <div className=\"form-actions\">\n        {shouldHidePaymentSubmitButton ? (\n          <PaymentMethodSubmitButtonContainer />\n        ) : (\n          <PaymentSubmitButton\n            brandName={brandName}\n            initialisationStrategyType={\n              selectedMethod && selectedMethod.initializationStrategy?.type\n            }\n            isComplete={!!selectedMethod?.initializationData?.isComplete}\n            isDisabled={shouldDisableSubmit}\n            methodGateway={selectedMethod && selectedMethod.gateway}\n            methodId={selectedMethodId}\n            methodName={selectedMethod && getPaymentMethodName(language)(selectedMethod)}\n            methodType={selectedMethod && selectedMethod.method}\n          />\n        )}\n      </div>\n    </Form>\n  );\n};\n\nconst PaymentMethodSubmitButtonContainer: FunctionComponent = () => {\n  return <div className=\"submitButtonContainer\" id=\"checkout-payment-continue\" />;\n};\n\ninterface PaymentMethodListFieldsetProps {\n  isEmbedded?: boolean;\n  isInitializingPayment?: boolean;\n  isUsingMultiShipping?: boolean;\n  methods: PaymentMethod[];\n  values: PaymentFormValues;\n  isPaymentDataRequired(): boolean;\n  onMethodSelect?(method: PaymentMethod): void;\n  onUnhandledError?(error: Error): void;\n  resetForm(nextValues?: Partial<FormikState<PaymentFormValues>>): void;\n}\n\nconst PaymentMethodListFieldset: FunctionComponent<PaymentMethodListFieldsetProps> = ({\n  isEmbedded,\n  isInitializingPayment,\n  isPaymentDataRequired,\n  isUsingMultiShipping,\n  methods,\n  onMethodSelect = noop,\n  onUnhandledError,\n  resetForm,\n  values,\n}) => {\n  const { setSubmitted } = useContext(FormContext);\n\n  const handlePaymentMethodSelect = useCallback(\n    (method: PaymentMethod) => {\n      const updatedValues = {\n        ...values,\n        ccCustomerCode: '',\n        ccCvv: '',\n        ccDocument: '',\n        customerEmail: '',\n        customerMobile: '',\n        ccExpiry: '',\n        ccName: '',\n        ccNumber: '',\n        instrumentId: '',\n        paymentProviderRadio: getUniquePaymentMethodId(method.id, method.gateway),\n        shouldCreateAccount: true,\n        shouldSaveInstrument: false,\n      };\n\n      resetForm({ values: updatedValues });\n      setSubmitted(false);\n      onMethodSelect(method);\n    },\n    [values, onMethodSelect, resetForm, setSubmitted],\n  );\n\n  return (\n    <Fieldset\n      legend={\n        <Legend hidden>\n          <TranslatedString id=\"payment.payment_methods_text\" />\n        </Legend>\n      }\n    >\n      {!isPaymentDataRequired() && <StoreCreditOverlay />}\n\n      <Extension region={ExtensionRegion.PaymentPaymentMethodListBefore} />\n\n      <PaymentMethodList\n        isEmbedded={isEmbedded}\n        isInitializingPayment={isInitializingPayment}\n        isUsingMultiShipping={isUsingMultiShipping}\n        methods={methods}\n        onSelect={handlePaymentMethodSelect}\n        onUnhandledError={onUnhandledError}\n      />\n    </Fieldset>\n  );\n};\n\nconst paymentFormConfig: WithFormikConfig<PaymentFormProps & WithLanguageProps, PaymentFormValues> =\n  {\n    mapPropsToValues: ({ defaultGatewayId, defaultMethodId }) => ({\n      ccCustomerCode: '',\n      ccCvv: '',\n      ccDocument: '',\n      customerEmail: '',\n      customerMobile: '',\n      ccExpiry: '',\n      ccName: '',\n      ccNumber: '',\n      paymentProviderRadio: getUniquePaymentMethodId(defaultMethodId, defaultGatewayId),\n      instrumentId: '',\n      shouldCreateAccount: true,\n      shouldSaveInstrument: false,\n      terms: false,\n      hostedForm: {\n        cardType: '',\n        errors: {\n          cardCode: '',\n          cardCodeVerification: '',\n          cardExpiry: '',\n          cardName: '',\n          cardNumber: '',\n          cardNumberVerification: '',\n        },\n      },\n      accountNumber: '',\n      routingNumber: '',\n    }),\n\n    handleSubmit: (values, { props: { onSubmit = noop } }) => {\n      onSubmit(\n        omitBy(values, (value, key) => isNil(value) || value === '' || key === 'hostedForm'),\n      );\n    },\n\n    validationSchema: ({\n      language,\n      isTermsConditionsRequired = false,\n      validationSchema,\n    }: PaymentFormProps & WithLanguageProps) =>\n      getPaymentValidationSchema({\n        additionalValidation: validationSchema,\n        isTermsConditionsRequired,\n        language,\n      }),\n  };\n\nexport default withLanguage(withFormik(paymentFormConfig)(memo(PaymentForm)));\n","import {\n    type CartChangedError,\n    type CheckoutSelectors,\n    type CheckoutService,\n    type CheckoutSettings,\n    type OrderRequestBody,\n    type PaymentMethod,\n} from '@bigcommerce/checkout-sdk';\nimport { memoizeOne } from '@bigcommerce/memoize';\nimport { compact, find, isEmpty, noop } from 'lodash';\nimport React, { Component, type ReactNode } from 'react';\nimport { type ObjectSchema } from 'yup';\n\nimport { type AnalyticsContextProps } from '@bigcommerce/checkout/analytics';\nimport { type ErrorLogger } from '@bigcommerce/checkout/error-handling-utils';\nimport { withLanguage, type WithLanguageProps } from '@bigcommerce/checkout/locale';\nimport { type CheckoutContextProps, type PaymentFormValues } from '@bigcommerce/checkout/payment-integration-api';\nimport { ChecklistSkeleton } from '@bigcommerce/checkout/ui';\n\nimport { withAnalytics } from '../analytics';\nimport { withCheckout } from '../checkout';\nimport {\n    ErrorModal,\n    type ErrorModalOnCloseProps,\n    isCartChangedError,\n    isErrorWithType,\n} from '../common/error';\nimport { EMPTY_ARRAY } from '../common/utility';\nimport { TermsConditionsType } from '../termsConditions';\n\nimport mapSubmitOrderErrorMessage, { mapSubmitOrderErrorTitle } from './mapSubmitOrderErrorMessage';\nimport mapToOrderRequestBody from './mapToOrderRequestBody';\nimport PaymentContext from './PaymentContext';\nimport PaymentForm from './PaymentForm';\nimport {\n    getUniquePaymentMethodId,\n    PaymentMethodId,\n    PaymentMethodProviderType,\n} from './paymentMethod';\n\nexport interface PaymentProps {\n    errorLogger: ErrorLogger;\n    isEmbedded?: boolean;\n    isUsingMultiShipping?: boolean;\n    checkEmbeddedSupport?(methodIds: string[]): void; // TODO: We're currently doing this check in multiple places, perhaps we should move it up so this check get be done in a single place instead.\n    onCartChangedError?(error: CartChangedError): void;\n    onFinalize?(): void;\n    onFinalizeError?(error: Error): void;\n    onReady?(): void;\n    onSubmit?(): void;\n    onSubmitError?(error: Error): void;\n    onUnhandledError?(error: Error): void;\n}\n\ninterface WithCheckoutPaymentProps {\n    availableStoreCredit: number;\n    cartUrl: string;\n    defaultMethod?: PaymentMethod;\n    finalizeOrderError?: Error;\n    isInitializingPayment: boolean;\n    isSubmittingOrder: boolean;\n    isStoreCreditApplied: boolean;\n    isTermsConditionsRequired: boolean;\n    methods: PaymentMethod[];\n    shouldExecuteSpamCheck: boolean;\n    shouldLocaliseErrorMessages: boolean;\n    submitOrderError?: Error;\n    termsConditionsText?: string;\n    termsConditionsUrl?: string;\n    usableStoreCredit: number;\n    applyStoreCredit(useStoreCredit: boolean): Promise<CheckoutSelectors>;\n    clearError(error: Error): void;\n    finalizeOrderIfNeeded(): Promise<CheckoutSelectors>;\n    isPaymentDataRequired(): boolean;\n    loadCheckout(): Promise<CheckoutSelectors>;\n    loadPaymentMethods(): Promise<CheckoutSelectors>;\n    submitOrder(values: OrderRequestBody): Promise<CheckoutSelectors>;\n    checkoutServiceSubscribe: CheckoutService['subscribe'];\n}\n\ninterface PaymentState {\n    didExceedSpamLimit: boolean;\n    isReady: boolean;\n    selectedMethod?: PaymentMethod;\n    shouldDisableSubmit: { [key: string]: boolean };\n    shouldHidePaymentSubmitButton: { [key: string]: boolean };\n    submitFunctions: { [key: string]: ((values: PaymentFormValues) => void) | null };\n    validationSchemas: { [key: string]: ObjectSchema<Partial<PaymentFormValues>> | null };\n}\n\nclass Payment extends Component<\n    PaymentProps & WithCheckoutPaymentProps & WithLanguageProps & AnalyticsContextProps,\n    PaymentState\n> {\n    state: PaymentState = {\n        didExceedSpamLimit: false,\n        isReady: false,\n        shouldDisableSubmit: {},\n        shouldHidePaymentSubmitButton: {},\n        validationSchemas: {},\n        submitFunctions: {},\n    };\n\n    private grandTotalChangeUnsubscribe?: () => void;\n\n    private getContextValue = memoizeOne(() => {\n        return {\n            disableSubmit: this.disableSubmit,\n            setSubmit: this.setSubmit,\n            setValidationSchema: this.setValidationSchema,\n            hidePaymentSubmitButton: this.hidePaymentSubmitButton,\n        };\n    });\n\n    async componentDidMount(): Promise<void> {\n        const {\n            finalizeOrderIfNeeded,\n            onFinalize = noop,\n            onFinalizeError = noop,\n            onReady = noop,\n            usableStoreCredit,\n            checkoutServiceSubscribe,\n        } = this.props;\n\n        if (usableStoreCredit) {\n            this.handleStoreCreditChange(true);\n        }\n\n        await this.loadPaymentMethodsOrThrow();\n\n        try {\n            const state = await finalizeOrderIfNeeded();\n            const order = state.data.getOrder();\n\n            onFinalize(order?.orderId);\n        } catch (error) {\n            if (isErrorWithType(error) && error.type !== 'order_finalization_not_required') {\n                onFinalizeError(error);\n            }\n        }\n\n        this.grandTotalChangeUnsubscribe = checkoutServiceSubscribe(\n            () => this.handleCartTotalChange(),\n            ({ data }) => data.getCheckout()?.grandTotal,\n            ({ data }) => data.getCheckout()?.outstandingBalance,\n        );\n\n        window.addEventListener('beforeunload', this.handleBeforeUnload);\n        this.setState({ isReady: true });\n        onReady();\n    }\n\n    componentDidUpdate(): void {\n        const { checkEmbeddedSupport = noop, methods } = this.props;\n\n        checkEmbeddedSupport(methods.map(({ id }) => id));\n    }\n\n    componentWillUnmount(): void {\n        if (this.grandTotalChangeUnsubscribe) {\n            this.grandTotalChangeUnsubscribe();\n            this.grandTotalChangeUnsubscribe = undefined;\n        }\n\n        window.removeEventListener('beforeunload', this.handleBeforeUnload);\n    }\n\n    render(): ReactNode {\n        const {\n            defaultMethod,\n            finalizeOrderError,\n            isInitializingPayment,\n            isUsingMultiShipping,\n            methods,\n            applyStoreCredit,\n            ...rest\n        } = this.props;\n\n        const {\n            didExceedSpamLimit,\n            isReady,\n            selectedMethod = defaultMethod,\n            shouldDisableSubmit,\n            validationSchemas,\n            shouldHidePaymentSubmitButton,\n        } = this.state;\n\n        const uniqueSelectedMethodId =\n            selectedMethod && getUniquePaymentMethodId(selectedMethod.id, selectedMethod.gateway);\n\n        return (\n            <PaymentContext.Provider value={this.getContextValue()}>\n                <ChecklistSkeleton isLoading={!isReady}>\n                    {!isEmpty(methods) && defaultMethod && (\n                        <PaymentForm\n                            {...rest}\n                            defaultGatewayId={defaultMethod.gateway}\n                            defaultMethodId={defaultMethod.id}\n                            didExceedSpamLimit={didExceedSpamLimit}\n                            isInitializingPayment={isInitializingPayment}\n                            isUsingMultiShipping={isUsingMultiShipping}\n                            methods={methods}\n                            onMethodSelect={this.setSelectedMethod}\n                            onStoreCreditChange={this.handleStoreCreditChange}\n                            onSubmit={this.handleSubmit}\n                            onUnhandledError={this.handleError}\n                            selectedMethod={selectedMethod}\n                            shouldDisableSubmit={\n                                (uniqueSelectedMethodId &&\n                                    shouldDisableSubmit[uniqueSelectedMethodId]) ||\n                                undefined\n                            }\n                            shouldHidePaymentSubmitButton={\n                                (uniqueSelectedMethodId &&\n                                    rest.isPaymentDataRequired() &&\n                                    shouldHidePaymentSubmitButton[uniqueSelectedMethodId]) ||\n                                undefined\n                            }\n                            validationSchema={\n                                (uniqueSelectedMethodId &&\n                                    validationSchemas[uniqueSelectedMethodId]) ||\n                                undefined\n                            }\n                        />\n                    )}\n                </ChecklistSkeleton>\n\n                {this.renderOrderErrorModal()}\n                {this.renderEmbeddedSupportErrorModal()}\n            </PaymentContext.Provider>\n        );\n    }\n\n    private renderOrderErrorModal(): ReactNode {\n        const { finalizeOrderError, language, shouldLocaliseErrorMessages, submitOrderError } =\n            this.props;\n\n        // FIXME: Export correct TS interface\n        const error: any = submitOrderError || finalizeOrderError;\n\n        if (\n            !error ||\n            error.type === 'order_finalization_not_required' ||\n            error.type === 'payment_cancelled' ||\n            error.type === 'payment_invalid_form' ||\n            error.type === 'spam_protection_not_completed' ||\n            error.type === 'invalid_hosted_form_value'\n        ) {\n            return null;\n        }\n\n        return (\n            <ErrorModal\n                error={error}\n                message={mapSubmitOrderErrorMessage(\n                    error,\n                    language.translate.bind(language),\n                    shouldLocaliseErrorMessages,\n                )}\n                onClose={this.handleCloseModal}\n                title={mapSubmitOrderErrorTitle(error, language.translate.bind(language))}\n            />\n        );\n    }\n\n    private renderEmbeddedSupportErrorModal(): ReactNode {\n        const { checkEmbeddedSupport = noop, methods } = this.props;\n\n        try {\n            checkEmbeddedSupport(methods.map(({ id }) => id));\n        } catch (error) {\n            if (error instanceof Error) {\n                return <ErrorModal error={error} onClose={this.handleCloseModal} />;\n            }\n        }\n\n        return null;\n    }\n\n    private disableSubmit: (method: PaymentMethod, disabled?: boolean) => void = (\n        method,\n        disabled = true,\n    ) => {\n        const uniqueId = getUniquePaymentMethodId(method.id, method.gateway);\n        const { shouldDisableSubmit } = this.state;\n\n        if (shouldDisableSubmit[uniqueId] === disabled) {\n            return;\n        }\n\n        this.setState({\n            shouldDisableSubmit: {\n                ...shouldDisableSubmit,\n                [uniqueId]: disabled,\n            },\n        });\n    };\n\n    private hidePaymentSubmitButton: (method: PaymentMethod, disabled?: boolean) => void = (\n        method,\n        disabled = true,\n    ) => {\n        const uniqueId = getUniquePaymentMethodId(method.id, method.gateway);\n        const { shouldHidePaymentSubmitButton } = this.state;\n\n        if (shouldHidePaymentSubmitButton[uniqueId] === disabled) {\n            return;\n        }\n\n        this.setState({\n            shouldHidePaymentSubmitButton: {\n                ...shouldHidePaymentSubmitButton,\n                [uniqueId]: disabled,\n            },\n        });\n    };\n\n    private handleBeforeUnload: (event: BeforeUnloadEvent) => string | undefined = (event) => {\n        const { defaultMethod, isSubmittingOrder, language } = this.props;\n        const { selectedMethod = defaultMethod } = this.state;\n\n        if (\n            !isSubmittingOrder ||\n            !selectedMethod ||\n            selectedMethod.type === PaymentMethodProviderType.Hosted ||\n            selectedMethod.type === PaymentMethodProviderType.PPSDK ||\n            selectedMethod.skipRedirectConfirmationAlert\n        ) {\n            return;\n        }\n\n        const message = language.translate('common.leave_warning');\n\n        event.returnValue = message;\n\n        return message;\n    };\n\n    private handleCloseModal: (event: Event, props: ErrorModalOnCloseProps) => Promise<void> =\n        async (_, { error }) => {\n            if (!error) {\n                return;\n            }\n\n            const { cartUrl, clearError, loadCheckout } = this.props;\n            const { type: errorType } = error as any; // FIXME: Export correct TS interface\n\n            if (\n                errorType === 'provider_fatal_error' ||\n                errorType === 'order_could_not_be_finalized_error'\n            ) {\n                window.location.replace(cartUrl || '/');\n            }\n\n            if (errorType === 'tax_provider_unavailable') {\n                window.location.reload();\n            }\n\n            if (errorType === 'cart_consistency') {\n                await loadCheckout();\n            }\n\n            if (isErrorWithType(error) && error.body) {\n                const { body, headers, status } = error;\n\n                if (body.type === 'provider_error' && headers.location) {\n                    window.top?.location.assign(headers.location);\n                }\n\n                // Reload the checkout object to get the latest `shouldExecuteSpamCheck` value,\n                // which will in turn make `SpamProtectionField` visible again.\n                // NOTE: As a temporary fix, we're checking the status code instead of the error\n                // type because of an issue with Nginx config, which causes the server to return\n                // HTML page instead of JSON response when there is a 429 error.\n                if (\n                    status === 429 ||\n                    body.type === 'spam_protection_expired' ||\n                    body.type === 'spam_protection_failed'\n                ) {\n                    this.setState({ didExceedSpamLimit: true });\n\n                    await loadCheckout();\n                }\n            }\n\n            clearError(error);\n        };\n\n    private handleStoreCreditChange: (useStoreCredit: boolean) => void = async (useStoreCredit) => {\n        const { applyStoreCredit, onUnhandledError = noop } = this.props;\n\n        try {\n            await applyStoreCredit(useStoreCredit);\n        } catch (e) {\n            onUnhandledError(e);\n        }\n    };\n\n    private handleError: (error: Error) => void = (error: Error) => {\n        const { onUnhandledError = noop, errorLogger } = this.props;\n\n        const { type } = error as any;\n\n        if (type === 'unexpected_detachment') {\n            errorLogger.log(error);\n\n            return;\n        }\n\n        return onUnhandledError(error);\n    };\n\n    private handleSubmit: (values: PaymentFormValues) => void = async (values) => {\n        const {\n            defaultMethod,\n            loadPaymentMethods,\n            isPaymentDataRequired,\n            onCartChangedError = noop,\n            onSubmit = noop,\n            onSubmitError = noop,\n            submitOrder,\n            analyticsTracker\n        } = this.props;\n\n        const { selectedMethod = defaultMethod, submitFunctions } = this.state;\n\n        analyticsTracker.clickPayButton({ shouldCreateAccount: values.shouldCreateAccount });\n\n        const customSubmit =\n            selectedMethod &&\n            submitFunctions[getUniquePaymentMethodId(selectedMethod.id, selectedMethod.gateway)];\n\n        if (customSubmit) {\n            return customSubmit(values);\n        }\n\n        try {\n            const state = await submitOrder(mapToOrderRequestBody(values, isPaymentDataRequired()));\n            const order = state.data.getOrder();\n\n            analyticsTracker.paymentComplete();\n\n            onSubmit(order?.orderId);\n        } catch (error) {\n            analyticsTracker.paymentRejected();\n\n            if (isErrorWithType(error) && error.type === 'payment_method_invalid') {\n                return loadPaymentMethods();\n            }\n\n            if (isCartChangedError(error)) {\n                return onCartChangedError(error);\n            }\n\n            onSubmitError(error);\n        }\n    };\n\n    private setSelectedMethod: (method?: PaymentMethod) => void = (method) => {\n        const { selectedMethod } = this.state;\n\n        if (selectedMethod === method) {\n            return;\n        }\n\n        if (method) {\n            this.trackSelectedPaymentMethod(method);\n        }\n\n        this.setState({ selectedMethod: method });\n    };\n\n    private setSubmit: (\n        method: PaymentMethod,\n        fn: (values: PaymentFormValues) => void | null,\n    ) => void = (method, fn) => {\n        const uniqueId = getUniquePaymentMethodId(method.id, method.gateway);\n        const { submitFunctions } = this.state;\n\n        if (submitFunctions[uniqueId] === fn) {\n            return;\n        }\n\n        this.setState({\n            submitFunctions: {\n                ...submitFunctions,\n                [uniqueId]: fn,\n            },\n        });\n    };\n\n    private setValidationSchema: (\n        method: PaymentMethod,\n        schema: ObjectSchema<Partial<PaymentFormValues>> | null,\n    ) => void = (method, schema) => {\n        const uniqueId = getUniquePaymentMethodId(method.id, method.gateway);\n        const { validationSchemas } = this.state;\n\n        if (validationSchemas[uniqueId] === schema) {\n            return;\n        }\n\n        this.setState({\n            validationSchemas: {\n                ...validationSchemas,\n                [uniqueId]: schema,\n            },\n        });\n    };\n\n    private trackSelectedPaymentMethod(method: PaymentMethod) {\n        const { analyticsTracker } = this.props;\n\n        const methodName = method.config.displayName || method.id;\n        const methodId = method.id;\n\n        analyticsTracker.selectedPaymentMethod(methodName, methodId);\n    }\n\n    private async loadPaymentMethodsOrThrow(): Promise<void> {\n        const {\n            loadPaymentMethods,\n            onUnhandledError = noop,\n        } = this.props;\n\n        try {\n            await loadPaymentMethods();\n\n            const selectedMethod = this.state.selectedMethod || this.props.defaultMethod;\n\n            if (selectedMethod) {\n                this.trackSelectedPaymentMethod(selectedMethod);\n            }\n        } catch (error) {\n            onUnhandledError(error);\n        }\n    }\n\n    private async handleCartTotalChange(): Promise<void> {\n        const { isReady } = this.state;\n\n        if (!isReady) {\n            return;\n        }\n\n        this.setState({ isReady: false });\n\n        await this.loadPaymentMethodsOrThrow();\n\n        this.setState({ isReady: true });\n    }\n}\n\nexport function mapToPaymentProps({\n        checkoutService,\n        checkoutState,\n}: CheckoutContextProps): WithCheckoutPaymentProps | null {\n    const {\n        data: {\n            getCheckout,\n            getConfig,\n            getCustomer,\n            getConsignments,\n            getOrder,\n            getPaymentMethod,\n            getPaymentMethods,\n            isPaymentDataRequired,\n            getPaymentProviderCustomer,\n        },\n        errors: { getFinalizeOrderError, getSubmitOrderError },\n        statuses: { isInitializingPayment, isSubmittingOrder },\n    } = checkoutState;\n\n    const checkout = getCheckout();\n    const config = getConfig();\n    const customer = getCustomer();\n    const consignments = getConsignments();\n    const paymentProviderCustomer = getPaymentProviderCustomer();\n\n    const { isComplete = false } = getOrder() || {};\n    let methods = getPaymentMethods() || EMPTY_ARRAY;\n\n    // TODO: In accordance with the checkout team, this functionality is temporary and will be implemented in the backend instead.\n    if (paymentProviderCustomer?.stripeLinkAuthenticationState) {\n        const stripeUpePaymentMethod = methods.filter(method =>\n            method.id === 'card' && method.gateway === PaymentMethodId.StripeUPE\n        );\n\n        methods = stripeUpePaymentMethod.length ? stripeUpePaymentMethod : methods;\n    }\n\n    if (!checkout || !config || !customer || isComplete) {\n        return null;\n    }\n\n    const {\n        enableTermsAndConditions: isTermsConditionsEnabled,\n        features,\n        orderTermsAndConditionsType: termsConditionsType,\n        orderTermsAndConditions: termsCondtitionsText,\n        orderTermsAndConditionsLink: termsCondtitionsUrl,\n    } = config.checkoutSettings as CheckoutSettings & { orderTermsAndConditionsLocation: string };\n\n    const isTermsConditionsRequired = isTermsConditionsEnabled;\n    const selectedPayment = find(checkout.payments, {\n        providerType: PaymentMethodProviderType.Hosted,\n    });\n\n    const { isStoreCreditApplied } = checkout;\n\n    let selectedPaymentMethod;\n    let filteredMethods;\n\n    filteredMethods = methods.filter((method: PaymentMethod) => {\n        if (method.id === PaymentMethodId.Bolt && method.initializationData) {\n            return !!method.initializationData.showInCheckout;\n        }\n\n        if (method.id === PaymentMethodId.BraintreeLocalPaymentMethod) {\n            return false;\n        }\n\n        return true;\n    });\n\n    if (consignments && consignments.length > 1) {\n        const multiShippingIncompatibleMethodIds: string[] = [\n            PaymentMethodId.AmazonPay,\n        ];\n\n        filteredMethods = methods.filter((method: PaymentMethod) => {\n            return !multiShippingIncompatibleMethodIds.includes(method.id);\n        });\n    }\n\n    if (selectedPayment) {\n        selectedPaymentMethod = getPaymentMethod(\n            selectedPayment.providerId,\n            selectedPayment.gatewayId,\n        );\n        filteredMethods = selectedPaymentMethod\n            ? compact([selectedPaymentMethod])\n            : filteredMethods;\n    } else {\n        selectedPaymentMethod = find(filteredMethods, {\n            config: { hasDefaultStoredInstrument: true },\n        });\n        // eslint-disable-next-line no-self-assign\n        filteredMethods = filteredMethods;\n    }\n\n    return {\n        applyStoreCredit: checkoutService.applyStoreCredit,\n        availableStoreCredit: customer.storeCredit,\n        cartUrl: config.links.cartLink,\n        clearError: checkoutService.clearError,\n        defaultMethod: selectedPaymentMethod || filteredMethods[0],\n        finalizeOrderError: getFinalizeOrderError(),\n        finalizeOrderIfNeeded: checkoutService.finalizeOrderIfNeeded,\n        loadCheckout: checkoutService.loadCheckout,\n        isInitializingPayment: isInitializingPayment(),\n        isPaymentDataRequired,\n        isStoreCreditApplied,\n        isSubmittingOrder: isSubmittingOrder(),\n        isTermsConditionsRequired,\n        loadPaymentMethods: checkoutService.loadPaymentMethods,\n        methods: filteredMethods,\n        shouldExecuteSpamCheck: checkout.shouldExecuteSpamCheck,\n        shouldLocaliseErrorMessages:\n            features['PAYMENTS-6799.localise_checkout_payment_error_messages'],\n        submitOrder: checkoutService.submitOrder,\n        submitOrderError: getSubmitOrderError(),\n        checkoutServiceSubscribe: checkoutService.subscribe,\n        termsConditionsText:\n            isTermsConditionsRequired && termsConditionsType === TermsConditionsType.TextArea\n                ? termsCondtitionsText\n                : undefined,\n        termsConditionsUrl:\n            isTermsConditionsRequired && termsConditionsType === TermsConditionsType.Link\n                ? termsCondtitionsUrl\n                : undefined,\n        usableStoreCredit:\n            checkout.grandTotal > 0 ? Math.min(checkout.grandTotal, customer.storeCredit || 0) : 0,\n    };\n}\n\nexport default withAnalytics(withLanguage(withCheckout(mapToPaymentProps)(Payment)));\n","import { type OrderPaymentRequestBody, type OrderRequestBody } from '@bigcommerce/checkout-sdk';\nimport { isEmpty, isNil, omitBy } from 'lodash';\n\nimport { type PaymentFormValues } from '@bigcommerce/checkout/payment-integration-api';\n\nimport { unformatCreditCardExpiryDate, unformatCreditCardNumber } from './creditCard';\nimport {\n    hasCreditCardExpiry,\n    hasCreditCardNumber,\n    parseUniquePaymentMethodId,\n} from './paymentMethod';\n\nexport default function mapToOrderRequestBody(\n    values: PaymentFormValues,\n    isPaymentDataRequired: boolean,\n): OrderRequestBody {\n    if (!isPaymentDataRequired) {\n        return {};\n    }\n\n    const { paymentProviderRadio, ...rest } = values;\n    const { methodId, gatewayId } = parseUniquePaymentMethodId(paymentProviderRadio);\n    const payload: OrderRequestBody = {\n        payment: { gatewayId, methodId },\n    };\n    const paymentData = omitBy(\n        {\n            ...rest,\n            ccExpiry: hasCreditCardExpiry(values)\n                ? unformatCreditCardExpiryDate(values.ccExpiry)\n                : null,\n            ccNumber: hasCreditCardNumber(values)\n                ? unformatCreditCardNumber(values.ccNumber)\n                : null,\n        },\n        isNil,\n    ) as OrderPaymentRequestBody['paymentData'];\n\n    if (payload.payment && !isEmpty(paymentData)) {\n        payload.payment.paymentData = paymentData;\n    }\n\n    return payload;\n}\n","import { type CartChangedError } from '@bigcommerce/checkout-sdk';\n\nexport default function isCartChangedError(error: unknown): error is CartChangedError {\n    const requestError = error as CartChangedError;\n\n    return requestError.type === 'cart_changed';\n}\n","import { type ComponentType, lazy } from 'react';\n\nimport { type IconProps } from './';\n\ninterface InstrumentComponent {\n    instrument: string;\n    component: ComponentType<IconProps>;\n}\n\nconst instrumentTypeMap: Record<string, InstrumentComponent> = {\n    AMEX: {\n        instrument: 'american-express',\n        component: lazy(() => import(/* webpackChunkName: \"icon-card-amex\" */ './IconCardAmex')),\n    },\n    BITCOIN: {\n        instrument: 'bitcoin',\n        component: lazy(() => import(/* webpackChunkName: \"icon-bitcoin\" */ './IconBitCoin')),\n    },\n    BITCOIN_CASH: {\n        instrument: 'bitcoin-cash',\n        component: lazy(\n            () => import(/* webpackChunkName: \"icon-bitcoin-cash\" */ './IconBitCoinCash'),\n        ),\n    },\n    BANCONTACT: {\n        instrument: 'bancontact',\n        component: lazy(\n            () => import(/* webpackChunkName: \"icon-card-bancontact\" */ './IconCardBancontact'),\n        ),\n    },\n    CARNET: {\n        instrument: 'carnet',\n        component: lazy(\n            () => import(/* webpackChunkName: \"icon-card-carnet\" */ './IconCardCarnet'),\n        ),\n    },\n    CB: {\n        instrument: 'cb',\n        component: lazy(() => import(/* webpackChunkName: \"icon-card-cb\" */ './IconCardCB')),\n    },\n    DINERS: {\n        instrument: 'diners-club',\n        component: lazy(\n            () => import(/* webpackChunkName: \"icon-card-diners-club\" */ './IconCardDinersClub'),\n        ),\n    },\n    DANKORT: {\n        instrument: 'dankort',\n        component: lazy(\n            () => import(/* webpackChunkName: \"icon-card-dankort\" */ './IconCardDankort'),\n        ),\n    },\n    DISCOVER: {\n        instrument: 'discover',\n        component: lazy(\n            () => import(/* webpackChunkName: \"icon-card-discover\" */ './IconCardDiscover'),\n        ),\n    },\n    DOGECOIN: {\n        instrument: 'dogecoin',\n        component: lazy(() => import(/* webpackChunkName: \"icon-dogecoin\" */ './IconDogeCoin')),\n    },\n    ELECTRON: {\n        instrument: 'electron',\n        component: lazy(\n            () => import(/* webpackChunkName: \"icon-card-electron\" */ './IconCardElectron'),\n        ),\n    },\n    ELO: {\n        instrument: 'elo',\n        component: lazy(() => import(/* webpackChunkName: \"icon-card-elo\" */ './IconCardElo')),\n    },\n    ETHEREUM: {\n        instrument: 'ethereum',\n        component: lazy(() => import(/* webpackChunkName: \"icon-ethereum\" */ './IconEthereum')),\n    },\n    HIPER: {\n        instrument: 'hiper',\n        component: lazy(\n            () => import(/* webpackChunkName: \"icon-card-hipercard\" */ './IconCardHipercard'),\n        ),\n    },\n    JCB: {\n        instrument: 'jcb',\n        component: lazy(() => import(/* webpackChunkName: \"icon-card-jcb\" */ './IconCardJCB')),\n    },\n    LITECOIN: {\n        instrument: 'litecoin',\n        component: lazy(() => import(/* webpackChunkName: \"icon-litecoin\" */ './IconLiteCoin')),\n    },\n    MADA: {\n        instrument: 'mada',\n        component: lazy(() => import(/* webpackChunkName: \"icon-card-mada\" */ './IconCardMada')),\n    },\n    MAESTRO: {\n        instrument: 'maestro',\n        component: lazy(\n            () => import(/* webpackChunkName: \"icon-card-maestro\" */ './IconCardMaestro'),\n        ),\n    },\n    MC: {\n        instrument: 'mastercard',\n        component: lazy(\n            () => import(/* webpackChunkName: \"icon-card-mastercard\" */ './IconCardMastercard'),\n        ),\n    },\n    SHIBA_INU: {\n        instrument: 'shiba-inu',\n        component: lazy(() => import(/* webpackChunkName: \"icon-shiba-inu\" */ './IconShibaInu')),\n    },\n    TROY: {\n        instrument: 'troy',\n        component: lazy(() => import(/* webpackChunkName: \"icon-card-troy\" */ './IconCardTroy')),\n    },\n    CUP: {\n        instrument: 'unionpay',\n        component: lazy(\n            () => import(/* webpackChunkName: \"icon-card-unionpay\" */ './IconCardUnionPay'),\n        ),\n    },\n    USD_COIN: {\n        instrument: 'usd-coin',\n        component: lazy(() => import(/* webpackChunkName: \"icon-usd-coin\" */ './IconUsdCoin')),\n    },\n    VISA: {\n        instrument: 'visa',\n        component: lazy(() => import(/* webpackChunkName: \"icon-card-visa\" */ './IconCardVisa')),\n    },\n};\n\nexport default function mapFromPaymentMethodCardType(type: string): string | undefined {\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    return instrumentTypeMap[type]?.instrument || undefined;\n}\n\nexport function getPaymentMethodIconComponent(type?: string): ComponentType<IconProps> | undefined {\n    if (!type) {\n        return undefined;\n    }\n\n    const instrumentType = Object.values(instrumentTypeMap).find(\n        (record) => record.instrument === type,\n    );\n\n    return instrumentType ? instrumentType.component : undefined;\n}\n\nfunction getSupportedInstrumentTypes() {\n    return Object.values(instrumentTypeMap).map((record) => record.instrument);\n}\n\nexport function filterInstrumentTypes(instrumentTypes: string[]) {\n    const supportedInstrumentTypes = getSupportedInstrumentTypes();\n\n    return instrumentTypes.filter((type) => supportedInstrumentTypes.includes(type));\n}\n"],"names":["memo","bodyClassName","children","className","classNameSelected","headerClassName","headerClassNameSelected","headerContent","itemId","onToggle","selectedItemId","useContext","AccordionContext","A","isSelected","transitionEndListener","useCallback","node","done","addEventListener","target","CSSTransition","addEndListener","classNames","in","mountOnEnter","timeout","unmountOnExit","id","props","Input","checked","type","Label","htmlFor","isDisabled","value","content","htmlId","kebabCase","label","rest","name","Checklist","C","renderInput","field","disabled","Function","handleChange","selectedValue","renderHeaderContent","BasicFormField","onChange","render","placement","tooltip","shouldShow","setShouldShow","useState","handleShow","handleHide","ref","onBlur","onFocus","onMouseEnter","onMouseLeave","modifiers","enabled","style","forwardRef","additionalClassName","legend","testId","coupon","displayName","TranslatedString","code","giftCertificate","ShopperCurrency","amount","used","remaining","height","viewBox","width","xmlns","d","isRemoving","onRemove","onClick","AppliedCouponChecklistItem","onRemoved","handleRemove","AppliedGiftCertificateChecklistItem","coupons","giftCertificates","isRemovingCoupon","isRemovingGiftCertificate","onRemovedCoupon","onRemovedGiftCertificate","length","map","key","RedeemableForm","appliedRedeemableError","isApplyingRedeemable","clearError","noop","submitForm","language","checkoutState","statuses","isSubmittingOrder","themeV2","handleSubmitForm","setSubmitted","handleKeyDown","event","keyCode","preventDefault","handleSubmit","renderLabel","hidden","renderErrorMessage","errorCode","errorMessage","errors","Alert","Error","message","TextInput","translate","onKeyDown","Button","isLoading","variant","Secondary","renderContent","FormField","input","withLanguage","mapPropsToValues","redeemableCode","applyCoupon","applyGiftCertificate","trim","error","validationSchema","required","shouldCollapseCouponCode","showAppliedRedeemables","formProps","Toggle","openByDefault","toggle","isOpen","href","createContext","undefined","unformatCreditCardNumber","separator","card","number","replace","RegExp","displayNamePrefix","mapToRedeemableProps","context","checkoutService","data","getConfig","getCoupons","getGiftCertificates","isApplyingCoupon","isApplyingGiftCertificate","getApplyCouponError","getApplyGiftCertificateError","getRemoveCouponError","getRemoveGiftCertificateError","config","removeCoupon","removeGiftCertificate","removedRedeemableError","checkoutSettings","isCouponCodeCollapsed","PaymentFormContext","usePaymentFormContext","defaultSelectedItemId","onSelect","setSelectedItemId","handleToggleItem","getContextValue","newSelectedItemId","Provider","ChecklistContext","connectFormik","formik","setFieldValue","useEffect","handleSelect","contextValue","useMemo","OriginalComponent","InnerComponent","prevFormik","prevProps","nextFormik","nextProps","DecoratedComponent","cardType","iconProps","size","Medium","IconComponent","Suspense","modal","setIsOpen","canHandleEventRef","useRef","current","handleOpen","onKeyPress","keyboardEvent","onRequestClose","isFloatingLabelEnabled","body","header","renderModal","Modal","additionalBodyClassName","footer","Small","shouldShowCloseButton","ModalTrigger","split","line","Fragment","TermsConditionsType","TermsConditionsModalCheckboxField","terms","translatedLabel","url","parsedLabel","parseAnchor","labelContent","ModalHeader","CheckboxFormField","TermsConditionsCheckboxField","TranslatedHtml","TermsConditionsTextField","defaultValue","readOnly","Fieldset","Legend","TextArea","isTermsConditionsTextArea","isTermsConditionModal","mapSubmitOrderErrorMessage","shouldLocalise","subtype","includes","err","join","mapSubmitOrderErrorTitle","unformatCreditCardExpiryDate","month","year","test","slice","getUniquePaymentMethodId","methodId","gatewayId","compact","parseUniquePaymentMethodId","hasCreditCardNumber","values","Object","hasCreditCardExpiry","TermsConditions","termsConditionsUrl","termsConditionsText","TermsConditionsField","Link","getPaymentValidationSchema","additionalValidation","isTermsConditionsRequired","schemaFields","paymentProviderRadio","schemaFieldsWithTerms","concat","oneOf","getTermsConditionsValidationSchema","PaymentMethodType","getPaymentMethodName","method","translations","PaymentMethodId","Affirm","Afterpay","AmazonPay","Bolt","Clearpay","GooglePay","Klarna","Paypal","PaypalCredit","VisaCheckout","getTranslatedPaymentMethodName","MultiOption","capitalize","get","onUnhandledError","initializePayment","BigCommercePaymentsPayLater","bigcommerce_payments_paylater","bannerContainerId","deinitializePayment","containerId","braintree","selectedCardType","cardTypes","filteredCardTypes","CreditCardIcon","getPaymentMethodTitle","basePath","storeCountryCode","cdnPath","path","paymentWithLogo","initializationData","methodsWithLogo","methodName","methodDisplayName","isCreditCard","toLowerCase","PaypalCommerceCredit","BraintreePaypalCredit","payPalCreditProductBrandName","credit","AdyenV2","AdyenV3","getPaymentMethodDisplayName","customTitles","CreditCard","logoUrl","titleText","BraintreeVenmo","subtitle","BraintreeAch","BraintreeLocalPaymentMethod","BigCommercePaymentsPayPal","BigCommercePaymentsAlternativeMethod","PaypalCommerce","PaypalCommerceAlternativeMethod","isExperimentEnabled","ApplePay","PayWithGoogle","Humm","enableBillie","Laybuy","Masterpass","Quadpay","Sezzle","Zip","Barclaycard","Mollie","Checkoutcom","StripeV3","StripeUPE","WorldpayAccess","gateway","BlueSnapDirect","PaypalCommerceVenmo","BigCommercePaymentsVenmo","PaypalPaymentsPro","Ratepay","withCheckout","getInstruments","instruments","storeProfile","cdnBasePath","alt","src","getSubtitle","supportedCards","mapFromPaymentMethodCardType","instrumentSelected","filter","instrument","provider","find","bigpayToken","instrumentId","getInstrumentForMethod","hostedForm","ccNumber","brand","getSelectedCardType","PaymentFormProvider","paymentForm","AdyenV2PaymentMethod","lazy","then","module","default","AdyenV3PaymentMethod","AffirmPaymentMethod","AmazonPayV2PaymentMethod","ApplePayPaymentMethod","BarclaycardPaymentMethod","BigCommercePaymentsPaymentMethod","BigCommercePaymentsAPMsPaymentMethod","BigCommercePaymentsCreditCardsPaymentMethod","BigCommercePaymentsFastlanePaymentMethod","BigCommercePaymentsPayLaterPaymentMethod","BigCommercePaymentsVenmoPaymentMethod","BigCommercePaymentsRatePayPaymentMethod","BlueSnapDirectEcpPaymentMethod","BlueSnapDirectAlternativePaymentMethod","BlueSnapDirectSepaPaymentMethod","BlueSnapDirectIdealPaymentMethod","BlueSnapV2PaymentMethod","BlueSnapDirectPayByBankPaymentMethod","BoltClientPaymentMethod","BoltEmbeddedPaymentMethod","BoltPaymentMethod","BraintreeAchPaymentMethod","BraintreeFastlanePaymentMethod","BraintreePaypalPaymentMethod","VisaCheckoutPaymentMethod","BraintreeVenmoPaymentMethod","CheckoutcomCustomPaymentMethod","ClearpayPaymentMethod","GooglePayPaymentMethod","HostedCreditCardPaymentMethod","HostedPaymentMethod","KlarnaPaymentMethod","KlarnaV2PaymentMethod","MolliePaymentMethod","MonerisPaymentMethod","OfflinePaymentMethod","PayPalCommerceAPMsPaymentMethod","PayPalCommerceCreditPaymentMethod","PayPalCommerceCreditCardsPaymentMethod","PayPalCommerceFastlanePaymentMethod","PayPalCommercePaymentMethod","PayPalCommerceVenmoPaymentMethod","PaypalCommerceRatePayPaymentMethod","PaypalExpressPaymentMethod","PayPalPaymentsProPaymentMethod","PPSDKPaymentMethod","SquareV2PaymentMethod","StripeOCSPaymentMethod","StripeUPEPaymentMethod","StripeV3PaymentMethod","WorldpayCreditCardPaymentMethod","ComponentRegistry","AdyenV2GooglePay","AdyenV3GooglePay","AuthorizeNetGooglePay","BNZGooglePay","BraintreeGooglePay","PayPalCommerceGooglePay","BigCommercePaymentsGooglePay","CheckoutcomGooglePay","CybersourceV2GooglePay","OrbitalGooglePay","StripeGooglePay","StripeUPEGooglePay","WorldpayAccessGooglePay","TdOnlineMartGooglePay","StripeOCSGooglePay","BraintreeVisaCheckout","PaymentMethodProviderType","BraintreeCreditCardPaymentMethod","isInitializingPayment","deinitializeCustomer","initializeCustomer","isInitializing","Braintree","Hosted","Api","withPayment","withForm","formikContext","disableSubmit","hidePaymentSubmitButton","isEmbedded","isSubmitted","isUsingMultiShipping","setSubmit","setValidationSchema","formContext","paymentContext","ResolvedPaymentMethod","query","components","resolveLazyComponent","resolvePaymentMethod","PaymentMethod","setFieldTouched","validateForm","getFieldValue","getFormValues","createPaymentFormService","getPaymentMethodFromListValue","methods","PaymentMethodListItem","renderPaymentMethod","PaymentMethodV2","renderPaymentMethodTitle","isCustomChecklistItem","ChecklistItem","paymentMethod","role","window","navigator","userAgent","redeemableProps","Redeemable","providersWithCustomClasses","PaymentSubmitButtonText","methodType","methodGateway","initialisationStrategyType","brandName","isComplete","isPaymentDataRequired","IconBolt","BlueSnapV2","PaypalVenmo","continueActionId","continueTranslationId","completeTranslationId","isInitializingCustomer","isSubmitting","isFullWidth","Large","Action","didExceedSpamLimit","shouldShowRetryButton","setShouldShowRetryButton","executeSpamCheck","isExecutingSpamCheck","verify","isErrorWithType","LoadingOverlay","withCurrency","availableStoreCredit","currency","usableStoreCredit","isStoreCreditApplied","TooltipTrigger","Tooltip","storeCredit","toCustomerCurrency","CheckboxInput","customCheckoutWindow","checkoutConfig","manageShippingMethods","withdrawalTermsUrl","PaymentMethodSubmitButtonContainer","PaymentMethodListFieldset","onMethodSelect","resetForm","FormContext","handlePaymentMethodSelect","updatedValues","ccCustomerCode","ccCvv","ccDocument","customerEmail","customerMobile","ccExpiry","ccName","shouldCreateAccount","shouldSaveInstrument","Extension","region","paymentFormConfig","defaultGatewayId","defaultMethodId","cardCode","cardCodeVerification","cardExpiry","cardName","cardNumber","cardNumberVerification","accountNumber","routingNumber","onSubmit","omitBy","isNil","onStoreCreditChange","selectedMethod","shouldDisableSubmit","shouldHidePaymentSubmitButton","shouldExecuteSpamCheck","selectedMethodId","paymentToken","Form","initializationStrategy","Payment","Component","state","isReady","validationSchemas","submitFunctions","this","uniqueId","setState","handleBeforeUnload","defaultMethod","PPSDK","skipRedirectConfirmationAlert","returnValue","handleCloseModal","_","cartUrl","loadCheckout","errorType","location","reload","headers","status","top","assign","handleStoreCreditChange","useStoreCredit","applyStoreCredit","e","handleError","errorLogger","log","loadPaymentMethods","onCartChangedError","onSubmitError","submitOrder","analyticsTracker","clickPayButton","customSubmit","payload","payment","paymentData","isEmpty","mapToOrderRequestBody","order","getOrder","paymentComplete","orderId","paymentRejected","isCartChangedError","setSelectedMethod","trackSelectedPaymentMethod","fn","schema","componentDidMount","finalizeOrderIfNeeded","onFinalize","onFinalizeError","onReady","checkoutServiceSubscribe","loadPaymentMethodsOrThrow","grandTotalChangeUnsubscribe","handleCartTotalChange","getCheckout","grandTotal","outstandingBalance","componentDidUpdate","checkEmbeddedSupport","componentWillUnmount","removeEventListener","finalizeOrderError","uniqueSelectedMethodId","PaymentContext","ChecklistSkeleton","renderOrderErrorModal","renderEmbeddedSupportErrorModal","shouldLocaliseErrorMessages","submitOrderError","ErrorModal","bind","onClose","title","selectedPaymentMethod","mapToPaymentProps","getCustomer","getConsignments","getPaymentMethod","getPaymentMethods","getPaymentProviderCustomer","getFinalizeOrderError","getSubmitOrderError","checkout","customer","consignments","paymentProviderCustomer","stripeLinkAuthenticationState","stripeUpePaymentMethod","enableTermsAndConditions","isTermsConditionsEnabled","features","orderTermsAndConditionsType","termsConditionsType","orderTermsAndConditions","termsCondtitionsText","orderTermsAndConditionsLink","termsCondtitionsUrl","selectedPayment","payments","providerType","filteredMethods","showInCheckout","multiShippingIncompatibleMethodIds","providerId","hasDefaultStoredInstrument","links","cartLink","subscribe","Math","min","withAnalytics","instrumentTypeMap","AMEX","component","BITCOIN","BITCOIN_CASH","BANCONTACT","CARNET","CB","DINERS","DANKORT","DISCOVER","DOGECOIN","ELECTRON","ELO","ETHEREUM","HIPER","JCB","LITECOIN","MADA","MAESTRO","MC","SHIBA_INU","TROY","CUP","USD_COIN","VISA","getPaymentMethodIconComponent","instrumentType","record","filterInstrumentTypes","instrumentTypes","supportedInstrumentTypes"],"sourceRoot":""}