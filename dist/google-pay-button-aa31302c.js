"use strict";(self.webpackJsonpCheckout=self.webpackJsonpCheckout||[]).push([[4748],{19285:(t,e,a)=>{a.d(e,{A:()=>o});var n=a(70355);function o(t,e){return Object.assign((e=>n.createElement(t,Object.assign({},e))),{resolveIds:e})}},25657:(t,e,a)=>{a.d(e,{A:()=>n});class n extends Error{constructor({data:t={},message:e="",title:a="",name:o=""}){super(),"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,n):this.stack=(new Error).stack,this.data=t,this.message=e,this.name=o,this.title=a,this.type="custom"}}},60266:(t,e,a)=>{a.d(e,{GooglePayButton:()=>c,GooglePayPaymentMethod:()=>y});var n=a(42920),o=a(70355),r=a(63582);var i=a(25657);class l extends i.A{constructor(t){var e,a;super({name:"EMBEDDED_CHECKOUT_UNSUPPORTED_ERROR",message:t}),e=this,a=l.prototype,Object.setPrototypeOf?Object.setPrototypeOf(e,a):function(t){return"__proto__"in t}(e)&&(e.__proto__=a)}}var d=a(19285);const c=(0,d.A)((t=>{const{language:e,onUnhandledError:a}=t;if(function(t=document.location.pathname){return"/embedded-checkout"==`/${t.split("/")[1]}`}())return a(new l(e.translate("embedded_checkout.unsupported_error",{methods:"googlepay"}))),null;const i=[n.sw,n.N8,n.Eb,n.Gk,n.ps,n.Z$,n.eI,n.yk,n.OX,n.B4,n.uw,n.L1,n.vs,n.wQ];return o.createElement(r.A,Object.assign({checkoutButtonContainerClass:"google-pay-top-button",integrations:i},t))}),[{id:"googlepayadyenv2"},{id:"googlepayadyenv3"},{id:"googlepayauthorizenet"},{id:"googlepaybnz"},{id:"googlepaybraintree"},{id:"googlepaypaypalcommerce"},{id:"googlepaycheckoutcom"},{id:"googlepaycybersourcev2"},{id:"googlepayorbital"},{id:"googlepaystripe"},{id:"googlepaystripeupe"},{id:"googlepayworldpayaccess"},{id:"googlepaytdonlinemart"},{id:"googlepaystripeocs"}]);var s=a(31635),u=a(28058),m=a(97802);const y=(0,d.A)((t=>{var{checkoutService:e,method:a,onUnhandledError:n}=t,r=(0,s.__rest)(t,["checkoutService","method","onUnhandledError"]);const i=(0,o.useCallback)((t=>{const o=t=>(0,s.__awaiter)(void 0,void 0,void 0,(function*(){try{yield e.deinitializePayment({gatewayId:a.gateway,methodId:a.id}),yield e.initializePayment(Object.assign(Object.assign({},t),{gatewayId:a.gateway,methodId:a.id}))}catch(t){t instanceof Error&&n(t)}})),r="checkout-app",i=Object.assign(Object.assign({},t),{[u.A.AdyenV2GooglePay]:{loadingContainerId:r,walletButton:"walletButton",onError:n,onPaymentSelect:()=>o(i)},[u.A.AdyenV3GooglePay]:{loadingContainerId:r,walletButton:"walletButton",onError:n,onPaymentSelect:()=>o(i)},[u.A.AuthorizeNetGooglePay]:{loadingContainerId:r,walletButton:"walletButton",onError:n,onPaymentSelect:()=>o(i)},[u.A.BNZGooglePay]:{loadingContainerId:r,walletButton:"walletButton",onError:n,onPaymentSelect:()=>o(i)},[u.A.BigCommercePaymentsGooglePay]:{loadingContainerId:r,walletButton:"walletButton",onError:n,onPaymentSelect:()=>o(i)},[u.A.BraintreeGooglePay]:{loadingContainerId:r,walletButton:"walletButton",onError:n,onPaymentSelect:()=>o(i)},[u.A.PayPalCommerceGooglePay]:{loadingContainerId:r,walletButton:"walletButton",onError:n,onPaymentSelect:()=>o(i)},[u.A.StripeGooglePay]:{loadingContainerId:r,walletButton:"walletButton",onError:n,onPaymentSelect:()=>o(i)},[u.A.StripeUPEGooglePay]:{loadingContainerId:r,walletButton:"walletButton",onError:n,onPaymentSelect:()=>o(i)},[u.A.CybersourceV2GooglePay]:{loadingContainerId:r,walletButton:"walletButton",onError:n,onPaymentSelect:()=>o(i)},[u.A.OrbitalGooglePay]:{loadingContainerId:r,walletButton:"walletButton",onError:n,onPaymentSelect:()=>o(i)},[u.A.CheckoutcomGooglePay]:{loadingContainerId:r,walletButton:"walletButton",onError:n,onPaymentSelect:()=>o(i)},[u.A.WorldpayAccessGooglePay]:{loadingContainerId:r,walletButton:"walletButton",onError:n,onPaymentSelect:()=>o(i)},[u.A.TdOnlineMartGooglePay]:{loadingContainerId:r,walletButton:"walletButton",onError:n,onPaymentSelect:()=>o(i)},[u.A.StripeOCSGooglePay]:{loadingContainerId:r,walletButton:"walletButton",onError:n,onPaymentSelect:()=>o(i)}});return e.initializePayment(i)}),[e,a,n]);return o.createElement(m.A,Object.assign({},r,{buttonId:"walletButton",deinitializePayment:e.deinitializePayment,initializePayment:i,method:a,shouldShowEditButton:!0,signOutCustomer:e.signOutCustomer}))}),[{id:u.A.AdyenV2GooglePay},{id:u.A.AdyenV3GooglePay},{id:u.A.AuthorizeNetGooglePay},{id:u.A.BNZGooglePay},{id:u.A.BraintreeGooglePay},{id:u.A.PayPalCommerceGooglePay},{id:u.A.BigCommercePaymentsGooglePay},{id:u.A.CheckoutcomGooglePay},{id:u.A.CybersourceV2GooglePay},{id:u.A.OrbitalGooglePay},{id:u.A.StripeGooglePay},{id:u.A.StripeUPEGooglePay},{id:u.A.WorldpayAccessGooglePay},{id:u.A.TdOnlineMartGooglePay},{id:u.A.StripeOCSGooglePay}])},63582:(t,e,a)=>{a.d(e,{A:()=>r});var n=a(31635),o=a(70355);const r=(0,a(19285).A)((({checkoutService:{deinitializeCustomer:t,initializeCustomer:e},checkoutButtonContainerClass:a,containerId:r,methodId:i,onUnhandledError:l,onWalletButtonClick:d,additionalInitializationOptions:c,integrations:s})=>((0,o.useEffect)((()=>((0,n.__awaiter)(void 0,void 0,void 0,(function*(){try{yield e({methodId:i,integrations:s,[i]:Object.assign({container:r,onUnhandledError:l,onClick:()=>d(i)},c)})}catch(t){"function"==typeof l&&t instanceof Error&&l(t)}})),()=>{(0,n.__awaiter)(void 0,void 0,void 0,(function*(){try{yield t({methodId:i})}catch(t){"function"==typeof l&&t instanceof Error&&l(t)}}))})),[]),o.createElement("div",{className:a,"data-test":r,id:r}))),[])},97802:(t,e,a)=>{a.d(e,{A:()=>f});var n=a(31635),o=a(69440),r=a(70355),i=a(39981),l=a(91182),d=a(22437);const c=(t="",e="****")=>t.includes("*")?t:`${e} ${t}`,s=t=>{if((t=>{if("object"==typeof t&&null!==t){if("card_information"in t&&"object"==typeof t.card_information&&null!==t.card_information&&"number"in t.card_information&&"type"in t.card_information)return!0;if("cardData"in t&&"object"==typeof t.cardData&&null!==t.cardData&&"accountMask"in t.cardData&&"cardType"in t.cardData&&"expMonth"in t.cardData&&"expYear"in t.cardData)return!0;if("accountNum"in t&&"accountMask"in t&&"expDate"in t)return!0}return!1})(t)){if(t.card_information)return{accountMask:c(t.card_information.number),cardType:t.card_information.type};if(t.cardData)return{accountMask:c(t.cardData.accountMask),cardType:t.cardData.cardType,expiryMonth:t.cardData.expMonth,expiryYear:t.cardData.expYear};if(t.accountNum){const{card:e}=(0,d.number)(t.accountNum);return{accountMask:c(t.accountMask),expiryMonth:t.expDate&&t.expDate.substr(0,2),expiryYear:t.expDate&&t.expDate.substr(2,2),cardType:e?e.niceType:""}}}};var u,m=a(72769),y=a(76049),g=a(49655),p=a(28058);!function(t){t.ApplePay="applepay",t.Barclaycard="barclaycard",t.CreditCard="credit-card",t.GooglePay="googlepay",t.PayWithGoogle="paywithgoogle",t.Masterpass="masterpass",t.MultiOption="multi-option",t.Paypal="paypal",t.PaypalCredit="paypal-credit",t.PaypalVenmo="paypal-venmo",t.VisaCheckout="visa-checkout"}(u||(u={}));const h=u;function P(t){return e=>{let a=function(t){return e=>{const a={[p.A.Affirm]:t.translate("payment.affirm_name_text"),[p.A.Afterpay]:t.translate("payment.afterpay_name_text"),[p.A.AmazonPay]:t.translate("payment.amazon_name_text"),[p.A.Bolt]:t.translate("payment.bolt_name_text"),[p.A.Clearpay]:t.translate("payment.clearpay_name_text"),[h.GooglePay]:t.translate("payment.google_pay_name_text"),[p.A.Klarna]:t.translate("payment.klarna_name_text"),[h.Paypal]:t.translate("payment.paypal_name_text"),[h.PaypalCredit]:t.translate("payment.paypal_credit_name_text"),[h.VisaCheckout]:t.translate("payment.vco_name_text")};return a[e.id]||a[e.method]}}(t)(e);return a&&e.method!==h.MultiOption||(a=e.config.displayName),a||(a=(0,o.capitalize)((0,o.get)(e,"initializationData.paymentData.cardData.digital_wallet_type")||e.method||e.id)),a}}const _=({method:t,onSignOut:e})=>{const{language:a}=(0,y.Y)();return r.createElement("div",{className:"signout-link"},r.createElement(g.A,{id:"remote.sign_out_before_action"})," ",r.createElement("a",{href:"#",onClick:(0,m.A)(e)},r.createElement(g.A,{data:{providerName:P(a)(t)},id:"remote.sign_out_action"}))," ",r.createElement(g.A,{id:"remote.sign_out_after_action"}))},E=({accountMask:t,cardName:e,cardType:a,expiryMonth:n,expiryYear:o,shouldShowEditButton:i,editButtonClassName:l,editButtonLabel:d,buttonId:c,method:s,onSignOut:u})=>r.createElement(r.Fragment,null,!!e&&r.createElement("p",{"data-test":"payment-method-wallet-card-name"},r.createElement("strong",null,r.createElement(g.A,{id:"payment.credit_card_name_label"}),":")," ",e),!!t&&!!a&&r.createElement("p",{"data-test":"payment-method-wallet-card-type"},r.createElement("strong",null,`${a}:`)," ",t),!!n&&!!o&&r.createElement("p",{"data-test":"payment-method-wallet-card-expiry"},r.createElement("strong",null,r.createElement(g.A,{id:"payment.credit_card_expiration_date_label"}),":")," ",`${n}/${o}`),!!i&&r.createElement("p",null,r.createElement("a",{className:l,href:"#",id:c,onClick:(0,m.A)()},d||r.createElement(g.A,{id:"remote.select_different_card_action"}))),r.createElement(_,{method:s,onSignOut:u})),A=({buttonId:t,method:e,signInButtonClassName:a,signInButtonLabel:n})=>{const{language:o}=(0,y.Y)();return r.createElement("a",{className:a,href:"#",id:t,onClick:(0,m.A)()},n||r.createElement(g.A,{data:{providerName:P(o)(e)},id:"remote.sign_in_action"}))},f=({paymentForm:t,buttonId:e,editButtonClassName:a,editButtonLabel:d,isInitializing:c=!1,method:u,shouldShowEditButton:m,signInButtonClassName:y,signInButtonLabel:g,signOutCustomer:p,deinitializePayment:h,initializePayment:P,onSignOut:_=o.noop,onSignOutError:f=o.noop,onUnhandledError:w=o.noop})=>{const{checkoutState:{data:{getBillingAddress:B,getCheckout:C,isPaymentDataRequired:b}}}=(0,i.Q)(),v=B(),I=C();if(!v||!I)throw new Error("Unable to get checkout");const k=s(u.initializationData),S=(0,o.some)(I.payments,{providerId:u.id}),G=k&&[v.firstName,v.lastName].join(" "),O=()=>{const{disableSubmit:e}=t,a=b();s(u.initializationData)||!a?e(u,!1):e(u,!0)},x=(0,r.useCallback)((()=>(0,n.__awaiter)(void 0,void 0,void 0,(function*(){try{yield p({methodId:u.id}),_(),window.location.reload()}catch(t){f(t)}}))),[p,u.id,_,f]);return(0,r.useEffect)((()=>((0,n.__awaiter)(void 0,void 0,void 0,(function*(){O();try{yield P({gatewayId:u.gateway,methodId:u.id})}catch(t){w(t)}})),()=>{(0,n.__awaiter)(void 0,void 0,void 0,(function*(){const{disableSubmit:e}=t;e(u,!1);try{yield h({gatewayId:u.gateway,methodId:u.id})}catch(t){w(t)}}))})),[]),(0,r.useEffect)((()=>{O()})),r.createElement(l.A,{hideContentWhenLoading:!0,isLoading:c},r.createElement("div",{className:"paymentMethod paymentMethod--walletButton"},S?r.createElement(E,Object.assign({},k,{buttonId:e,cardName:G,editButtonClassName:a,editButtonLabel:d,method:u,onSignOut:x,shouldShowEditButton:m})):r.createElement(A,{buttonId:e,method:u,signInButtonClassName:y,signInButtonLabel:g})))}}}]);
//# sourceMappingURL=google-pay-button-aa31302c.js.map